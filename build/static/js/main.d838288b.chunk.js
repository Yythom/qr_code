(this.webpackJsonph5_scan=this.webpackJsonph5_scan||[]).push([[0],{127:function(e,t,a){},145:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAcCAYAAABsxO8nAAAB3UlEQVRIS+2TsWsUQRSHf29m7xKCKBbhbuM1gYspLGxtNLndIGJpE5LYKAgipAkWZi/Cgd5eAtqITSDEIpUkqQJWydzZRP8DBVu5XUXrSNyZJ4vccSG7uYhbZsqZN9987zczhIwGZcRBtqDJ2vA5yudeE/E1E/HD1tOw9a+mR4wqz4uPIMhqesGr/wK5dfsuEzagdRmW9elEGLNUXiA7NUeN6gUXJDal+DVqzMBsGsiwOC9gHqhqWE4ETdZgibytlBfcOMnG9e3rDN5TXphPBMWTFd9uAthvekHV8e3vAIZ7oYaiMUSyJARtqmrQXTt2/TGIwCXlhWNuw75lmLqnxsBcTu/p39YgGx5XS+39VCPnWcGBpNUY1Gvyt+1iI54TktaN5jdC073dpeAzCJz4IB3f/sGMlx2QZeSWlvo+wBMAfgJUIcI2M2YhzB315NtOIqiyXLwCLa52tVm8h4zm2WCCBWZAoiQYQ2B+Z4jmWovtt8kgv3ibgII5DDdaNUQxcGr54gVjBj8CfMiMOhGtAPiivOBmvJ7WGoN452DAmv6w8PWgY+b6ly4b6G0ClQFeU144nxr2ab6G0xh5oRbbj3trs/39p7HoV3Nm1C+hlHfUf9vxirOw+6eWWUZ/AIK2pB1VheYkAAAAAElFTkSuQmCC"},146:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA8CAYAAAAt3km7AAAEq0lEQVRoQ+2aX2hbdRTHvydNa9O1zNZuRa2j1O5mZrS63FbxQUxzY/syhYn/noc4sA8q6oOKIIh7EBQF3YM+OBk4HQwEJ3QjaRHdYOJNRmCVe9u5YmUO57pabWOb5B656Z+kTdrk5qbZrzV9Ktz7+53zOd9zz+/8fr8QtugfbVEuVMA2m7L/H8U4uPs5EL0NoCatEsVBuA7mw6ToxzaDeisU42/uqENdw8yajhNukF9r2nxg51pdiG2bXddxNg5RYPQT0eGyvjEOuV8E8AKAxgznt6f/519I0e/edGC5HOaQNAFQ6+KzBCla9VYBOw7QM4LBzIDxNZA8TIGxkdW+FVTuOSi9A6LXBQNbcseAw5Cpd/RCpn+FgYWkZwH6VFCwBbccVQ3UO/LPko+FgZ3eI8PJPwkNlkz6qG/sO2tgw1IzDLomNBgbj1Jg9JQ1sLfgwEPSJEAZZV8wTGdiFz18acISmPkyB6XjIOEqYzq6sVgT7f/1hnWwIeklML0vmE5pdxxzLuod/7cIMPdTYHwlJhjH4Ne3EYGtgw3vvg+GIyIkGOMkBbQnLK9jqW/s1K5GuFyTQoIRnia/dqI4sGE4YbjjQoIlEi3Uf+mPosBSqg25T4PRJxjcHClabVG94tIgDkoDIPpILDCeIkXP3GKl3CuopVoGG+roB1cNigWGq6Rot9tUrMMDqrooFBhxiPx6wB7Y4N4mVCeuCwXG/DIF9KzGwVoqnvDU4LbknFBgSWMf9a3ci1n+xlKVMSRdBMgjCFycFC3jmDDtlSXFFkq+QD0j4Sr5swtHcYoFOx4EVZ0TQjHmnymg58we64qFpDsB+k0QsG8poO/P5Yt1sB/cDZjDtABgcVByH/nHci4/1sGGfU4YvwvQM/J7pOivrBVg62BmtxJymzvVzGMCcwlIlEFF085lMI5RQPtwPXuWwVKVMeh+F4RXlycmHiC/fqQMYAWbKA5sULoX1ZR5QPkZKdrBgq2W4cXiwLJvZeZAydcAR5naLdbIP3q+5Km40IG4zY3djjIEfy0TZ0jR+ktWPJa3MEHpYxA9fxPB/iRFWzOwRaViGs79JghvALjlJgD+SIr2QMkVW4b7fo9kxPjAWd352NQMWvbelYy07+CSdiYTk9RyYbzq/qZ6vuZtN1RXNa7A4KPUp13ZMLCurq6dTqfzCyJSFo3EDMM4GIlEviyFil6v93EAnxNR/eJ8Zw3DOBCJRNa9S7CViqYhWZbPAHhkFURMVdU6u2CdnZ2NNTU1WUd+zHwyHA6vOEdcbasUYDmrYzweb49Go5ftwMmy7AWg5phjRlXVBrM4b1gqyrJs5nnWYYphGDvzpUs+aK/Xew8RZV3DAvhLVdVbN2QdW5pUlmXzBPbJVUamVVW1feXk8XjqXS7X36sBmPlIOBwe2FAwn89XOz09/QERHUot3Mxmg+wLh8PRfIoU8ry7u9vNzOZNZcvi/EeJaEBV1XV/j2L7G1t0jnp6elqZefvs7Oz4yEj6LrgQ5/O909bWVtvc3NwxPz8/FY1GzdQ38o0pFVg+O2V/XgEre8htGqwoZjOAZR9eUazsIbdpsKKYzQCWfXhFsbKH3KbB/wCCcYRMKESitQAAAABJRU5ErkJggg=="},152:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAC1ElEQVRIS+WVX0hTURzHP47rnE4TGRIiI8KGEjJkwgxJpEhhTAhiD6ZBoL7p8EFQfPPBiexNNBQVFZH+PIYFiogMRWSFjCEmw7YHH0Rk5EDmWOMa58SIoc4b9NYPDlwOh8/5nu/vz825vLz08I8jRytUTcTgZxyd0QQ6fVYZmqGp0Cqpb59RLE0oVQ7QKTeCNUHVVAKiYVKB9yQjWxieDaI8aNIOTSQShMNhysrKKCkpQU2eo+5/Qo3/QKloJPl1EfU4iOHVB3SGomvBGUoFcH5+ntXVVfLz8+nt7eWR3UYq7CO59QbF6kK5+5D425cYnF6Uh89vh25sbDA1NUVbWxvBYBCfz8fMzAz375lJ+udQjwPonw6SePcapbIJ/ZPB7FBVVZmdnZVP7+vro7S0lM7OToxGI6Ojo+iPv5Da/4j+sZvUdx86wx2U6hfZoclkksnJSaLRqHy2yWRie3ubkZERuaxWK6gp0OkAsW6ODE8XFxcJBAJSaXl5ubxkZ2eH4eFhzGaz5hbJgG5ubrKwsCCVVldX09LSgtPppLu7WzNQHMyAnp6e4vF4qKqqoqOjQ8KE4v7+fgoKCjSDM6AiWUtLSywvL+P1ehGXiCS5XC5aW1vRST9vjysdFYvFpDJxwdjYGCsrK0xMTEjlAn54eMjc3Jz0uKuri6Kiqw1wbZseHBzQ09OD3W5nYGCAtbU1pqenMRgMnJ2dUVlZydHRkawQ4b/NZkNR/syCG3vf7/czNDREXV0d7e3tEra7u0tFRQWNjY2cnJwwPj4uLXK73bLk0vZkHSiiw0Q1iCQ1NzdTU1MjZ4JQLCISicgarq2tlVak1WaFCl9DoRDr6+uyfvPy8rBYLNJP8S1s2tvbk147HA5tStN5Pj8/lwkSYLEuLi7Izc2lsLCQhoYG6uvr5URLh6Z5mj4sppiojng8LrcEtLi4GL0+80/wV9DbK/T3if8c+guFjmpYjNAkQgAAAABJRU5ErkJggg=="},153:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAACP0lEQVRIS+2Vv2saYRjHv3k5bapIa4t0EBvIIA4OEosdikJwU6SDiziqSxBEKHRxLqiLo+DgFPwDFN1ERRwKIiJZFNFBUxFJitFr43Ec5T0bi9ETpYUueeCFg+d9P8/v546Gw+EX/GM52gfKcRwIIWAYZi/zO6G9Xg/tdhvT6RRyuRxarRZGoxFKpXInXBLaarVweXkJjUYjnsVigcFgAL1eD4/HIxqRkq3Q2WyGcDgMl8sFu90OlUoFnufR7XaRSCTg9/thsVgOg9brdUSjUWQymQ2Pkskkbm9vEYlEDoOWSiX0+334fL6Nh7lcDoVCARR+UPhSlwVBQCwWE3McCAT+Dkpbiua52WwinU4jHo+LnXCwp5PJRCzMeDzGfD5Hp9NBsViE1WpFMBiETqfbH0qrXKlUUK1WIZPJoFAoxEPl7u4OLMtCrVbj4uJCsq3WWormLJvNolwuw2azwWw2i2E+TBJNw03nK677bZydvQPz6gTCc/WGx2vQWq0mhuhwOGAymTbHkr/H8VUGZDYECAH/9hyc7oM0lI5iKpWCwWCA0+kUZ32bEHYMcOxSxciAZy8hyFVrV1eeNhoN0Uu3243T09PtReDvoSh+BnNz9VtPwJ+c48f7TwBzvHqzgubzedB5D4VC0gtDEEDYa4BfPDJKICjfAPLlohGhtEB0ikajEbxer2ToeMgp+20dSmTg9B/Bvzb8gdIvmlNaXTotu4T8/A4I3CMogSB7ATDLzbXXkt5pZYvyCfqf/qaHFuoX7IQhwCR8KIAAAAAASUVORK5CYII="},154:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAADlUlEQVRIS7WVS0hjVxiAv1zSSwgRX4hIkKoMRaSIiExVcBXCKJQiWly4EEGsivjAF6OgaDGCr4WIVK2L4kLEhSiVBikRu5BSEZFBxEVaH0FkENFqtPEar+WcklSbGMqU/puzOP//nf99DI+Pjw4iiK7r+P3+oIbRaERRlEgmGF6CCtDJyQlut5v9/X0uLy+JiYkhPT2dtLQ0kpOTEQ+Ek7DQ6+trVldXmZubw+PxEB0djclkwufzcXFxQVJSEuXl5RQVFREbGxvCDYHe3t4yNTXF9PQ0paWl2Gw2UlJSsFgseL1eDg8P5YMLCwvU1NTQ0NCA2Wx+Bg6BLi8v09vbS2VlJVVVVdLgaQ5Fjm9ubpidnWVycpLu7m7KyspehgpPmpqaJGRkZIT19XVOT0+pra0NGs3MzBAXFycjaGtr4+rqSsKfpuGZpzs7O9TX10twSUkJAnB8fMzAwEAQKqKIj4+Xei6XS0Y1Pj5OdnZ2UOcZdGNjg8bGRqmUn59PIFSDwYCqqmiaJg0DKdne3qa5uRmHw0FBQUF4qGif4eFh6WlGRoaEbm1tMTg4SG5uLpubm7S3t5OTkyNTtLe3J++E/oueit784/qCjy5/xWT9FFSL7FXxkEhNVlaWhFqtVnTNi+Z5x7U5mej4RBlJQEKqr3vfo/3wFiUpEzWvDl1REX17dnZGQkICUVFRKOhoP3+D7tlC/XwIxZIYuaV0zYf/3TzaxjjqZ9UYX38VMpbazgL+n4Yx5tWhZpeD0RQZKm9FaL98i7b1HaqtGzXzy6CR3+3C5+xCzSzBmFePoloiT5SovtPppLq6mo+tSfhcA+juH1HffI3xlQ3/6S7a940o1lxMb3pxHx7LQlVUVISvvmjyrq4uOd+i8f8qxi2a8y36+W+o+XX4dxcBBfWLMRTVLIvY0tIid0FfX5/cEUJkoUTVFxcXGRsbo6enB7vdHsyj/rsHbbUH/8k2xsQMVHsfxL+S98JuaWmJ0dFR6ZBYMGJzSejBwQEdHR2kpqbS2dn5fPPoOvr7XbS9ZdRP7CjWHFD+XnnCWzFVoqf7+/ul14b7+3vH/Pw8ExMT0ksxSWFF10XkMvx/ytraGkNDQ7S2tlJcXIzh7u7OIYAi4WIqnjZxxPX+5FLUQYysmCwxHIaHhwfH0dERKysrnJ+f/1tOiJ4YjMLCQplCmdPAPyTODxVRuMD/9eIf9aHwYEv9F0A42//F0z8BGXnTNNUUFScAAAAASUVORK5CYII="},165:function(e,t,a){e.exports=a(316)},170:function(e,t,a){},217:function(e,t,a){},219:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},315:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),s=(a(170),a(6)),i=a(2),o=a.n(i),u=a(7),m=a(102),d=a.n(m),p=a(322);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"!==typeof e)throw new Error("First argument of debounce function should be a function");var n=null;return function(){for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];var s=this,i=a&&!n,o=function(){n=null,a||e.apply(s,c)};clearTimeout(n),n=setTimeout(o,t),i&&e.apply(s,c)}}var v=function(e){return/^1[3-9][0-9]{9}$/.test(e)};function h(e,t,a){var n=new Date;n.setDate(n.getDate()+a),document.cookie=e+"="+t+";expires="+n}function E(e){for(var t=document.cookie.split("; "),a=0;a<t.length;a++){var n=t[a].split("=");if(n[0]==e)return n[1]}}function b(e){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return geocoder.getLocation(t),e.abrupt("return",new Promise((function(e,t){geocoder.setError((function(t){p.b.destroy(),setTimeout((function(){p.b.error("\u5730\u5740\u8f93\u5165\u9519\u8bef")}),200),e(!1)})),geocoder.setComplete((function(t){e(t.detail)}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=[];function O(e){var t=d.a.create({baseURL:"http://120.26.58.108:9501",timeout:1e4,headers:{"Content-Type":"application/json",token:E("token")||"",shop_id:localStorage.getItem("shop_id")||""}});return t.interceptors.response.use((function(e){return e.data})),t.interceptors.request.use((function(t){return function(e){for(var t in w)w[t].url===d.a.defaults.baseURL+e.url&&(console.log("\u53d6\u6d88\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014-"),w[t].f(),console.log(w[t].url))}(e),t}),(function(e){return Promise.reject(e)})),new Promise((function(a,n){t(e).then((function(e){if("0"!==e.code){if("B-009-001-001"===e.code){var t=window.location.origin;window.location.href=t}p.b.destroy(),setTimeout((function(){p.b.error(e.msg)}),200),a(!1)}else a(e.result)})).catch((function(e){e.response}))}))}var x=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/login/send",data:{mobile:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/login",data:{code:t,mobile:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/user/detail"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/user/send",data:{mobile:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/user/change-mobile",data:{code:t,mobile:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:6,e.next=3,O({method:"post",url:"/shop/v1/user/address/list",data:{page:t,pageSize:a}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(o.a.mark((function e(t,a,n,r,c,l,s,i,u){var m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/user/address/make",data:{mobile:t,nickname:a,address:n,is_default:r,city:c,longitude:l,latitude:s,name:i,address_detail:u}});case 2:return m=e.sent,e.abrupt("return",m);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c,l,s,i,o){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(o.a.mark((function e(t,a,n,r,c,l,s,i,u,m){var d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/user/address/edit",data:{mobile:t,nickname:a,address:n,is_default:r,city:c,longitude:l,latitude:s,name:i,address_detail:u,address_id:m}});case 2:return d=e.sent,e.abrupt("return",d);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c,l,s,i,o,u){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/user/address/detail",data:{address_id:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/user/address/delete",data:{address_id:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(o.a.mark((function e(t,a,n,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/order/create",data:{list:t,method:a,address_id:n,type:r}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(o.a.mark((function e(t,a,n){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),r={},r=7==t?{method:t,order_id:a}:{method:t,order_id:a,code:n},e.next=5,O({method:"post",url:"/shop/v1/order/pay",data:r});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/user/coin-log"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e,t){return{tabStatus:e.tabStatus,cart:e.cart,cartSummary:e.cartSummary,userStore:e.userStore,shop_id:e.shop_id,defaultAddress:e.defaultAddress,useAddress:e.useAddress,_localtion:e._localtion,isBrowser:e.isBrowser,shop:e.shop,code:e.code}},R=function(e,t){return{activeTab:function(t){e({type:"TAB",index:t})},setUserInfo:function(){var t=Object(u.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!E("token")){t.next=5;break}return t.next=3,_();case 3:(a=t.sent)?e({type:"INFO",info:a}):p.b.error("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),setShopID:function(t){e({type:"SHOPID",id:t})},setAddress:function(t){e({type:"USEADDRESS",data:t})},setDefaultAddress:function(t){e({type:"DEFAULT",data:t})},setLocaltion:function(t){e({type:"LOCAL",_localtion:t})},setBrowser:function(t){e({type:"BROWSER",text:t})},setShop:function(t){e({type:"SHOP",shop:t})},setCode:function(t){return e({type:"CODE",code:t})},addCart:function(t,a,n){e({type:"ADDCART",food:t,shop_id:a,current:n})},setAllNum:function(t){e({type:"SETNUM",allSummary:t})},clearCart:function(){localStorage.removeItem("cart"),localStorage.removeItem("summary"),e({type:"CLEAR"})}}},F=a(8),M=a(29),D=a(22);a(217);var U=Object(D.h)((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(D.g)();return Object(n.useEffect)((function(){-1!==e.location.pathname.indexOf("home")?l("#fff"):l("rgb(9,44,76)")}),[e.location.pathname.split("/integral")[1]]),r.a.createElement("div",{className:"header_title"},"#fff"===c?r.a.createElement("svg",{t:"1608546256046",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8139",width:"16",height:"16"},r.a.createElement("path",{d:"M714.41600001 960.294c13.02300001-12.711 32.599-31.816 55.38599999-54.054C637.309 776.332 505.577 647.16 373.099 517.265c135.675-133.566 267.109-262.952 398.507-392.311-25.771-24.939-45.768-44.286-63.432-61.382-150.09299999 147.081-301.99 295.93-455.779 446.632C407.779 661.576 560.566 810.416 714.41600001 960.294z",fill:"#ffffff","p-id":"8140"})):r.a.createElement("svg",{t:"1608535595375",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5139",width:"16",height:"16"},r.a.createElement("path",{d:"M383.88508444 512.27989333l332.40746667-332.41315555c13.96963556-13.96053333 13.96963556-36.62051556 0-50.58218667-13.96053333-13.96963556-36.62051556-13.96963556-50.58218667 0l-357.70254222 357.70481778c-13.97304889 13.96053333-13.97304889 36.62051556 0 50.58218667l357.70368 357.70368c6.98254221 6.98595556 16.13710222 10.48007111 25.29052445 10.48007111s18.30912-3.49411556 25.29052444-10.48007111c13.97304889-13.96053333 13.97304889-36.62051556 0-50.58218667l-332.40974222-332.41429333z","p-id":"5140"})),r.a.createElement("span",{style:{color:c},onClick:function(){i.goBack()}},"\u8fd4\u56de"))})),H=(a(219),a(220),a(70)),T=a(24),Y=a(145),W=a.n(Y);a(221);var Q=Object(F.b)(L,R)((function(e){var t,a=Object(n.useState)(0),c=Object(s.a)(a,2),l=c[0],i=c[1],o=e.food_item,u=e.addCart,m=e.isShowIcon,d=e.isCashier;function f(t,a,n){d&&1===e.cartSummary.num&&"del"===n?p.b.error("\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u4ef6\u4e86\uff5e"):0===l&&"del"===n||(u(t,a,n),v(t))}Object(n.useEffect)((function(){v(o)}),[null===(t=e.cartSummary)||void 0===t?void 0:t.num]);var v=function(t){var a=!1,n=0,r=0,c=0,l=[],s={num:0,allPrice:0,productList:[]};e.cart&&(Object.keys(e.cart)[0]?Object.values(e.cart)[0].list.forEach((function(e){e.product.forEach((function(e){n+=e.number,r+=T.a.times(e.number,e.sell_price),c+=T.a.times(e.number,e.coin_price),l.push(e),e.product_id===t.product_id&&(a=!0,e.number?i(e.number):i(0))}))})):i(0),a||i(0),s.num=n,s.allPrice=r,s.productList=l,s.coin=c,e.setAllNum(Object(H.a)({},s)),localStorage.setItem("summary",JSON.stringify(Object(H.a)({},s))))};return r.a.createElement("div",{className:"cart_input_wrap",onClick:function(){!l&&f(o,e.shop_id,"add")}},l?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"btn btn-plus",onClick:function(){f(o,e.shop_id,"add")}}),r.a.createElement("span",null,l),r.a.createElement("i",{className:"btn btn-minus",onClick:function(){f(o,e.shop_id,"del")}})):m?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:W.a,alt:"a"})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"btn btn-plus",onClick:function(){f(o,e.shop_id,"add")}}),r.a.createElement("span",null,l),r.a.createElement("i",{className:"btn btn-minus",onClick:function(){f(o,e.shop_id,"del")}})))}));a(222);var P=Object(F.b)(L,R)((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=(a[0],a[1]),l=e.food;return e.shop_id,Object(n.useEffect)((function(){c(l.isLike)}),[]),r.a.createElement("div",{className:"food_item"},l?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"img_wrap"},r.a.createElement("img",{src:l.picture,alt:"error"})),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,l.product_name),r.a.createElement("div",{className:"price_wrap"},r.a.createElement("div",null,r.a.createElement("span",{className:"new"},"\xa5",l.sell_price),r.a.createElement("span",{className:"coin"},l.coin_price,"\u5e01")),r.a.createElement(Q,{isShowIcon:!0,food_item:l})))):null)})),G=(a(223),a(146)),J=a.n(G);var q=Object(F.b)(L,R)((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(D.g)(),m=e.cart,d=e.cartSummary,f=e.shop_id;function v(){var e=JSON.parse(JSON.stringify(m));return e[f]?(e[f].list.forEach((function(t,a){for(var n=0;n<e[f].list[a].product.length;n++){var r=e[f].list[a].product[n];delete r.cate_id,delete r.product_name,delete r.picture,delete r.stock,delete r.sell_price,delete r.coin_price}})),e[f].list):""}function h(){return(h=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m[f]&&m[f].list[0]?(console.log(v()),setTimeout((function(){i.push("/integral/cashier")}),200)):p.b.error("\u8bf7\u5148\u9009\u62e9\u83dc\u54c1");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"carbar"},r.a.createElement("ul",{className:c?"float_ul":"none_ul float_ul",style:{height:"".concat(30+1*Array.length,"rem")}},r.a.createElement("div",{className:"title"},r.a.createElement("p",null,"\u5df2\u9009\u5546\u54c1 (",null===d||void 0===d?void 0:d.num," ","\u6d4b\u8bd5"," )"),r.a.createElement("p",{onClick:e.clearCart},"\u6e05\u7a7a")),r.a.createElement("ul",{className:"produce_ul"},(null===d||void 0===d?void 0:d.productList)&&d.productList.map((function(e){return r.a.createElement("li",{key:e.product_id},r.a.createElement("div",{className:"desc_wrap"},r.a.createElement("div",{className:"e_img"},r.a.createElement("img",{src:e.picture,alt:""})),r.a.createElement("div",{className:"e_desc"},r.a.createElement("p",null,e.product_name),r.a.createElement("div",null,r.a.createElement(Q,{food_item:e})))),r.a.createElement("div",{className:"e_price"},r.a.createElement("p",{className:"new"},r.a.createElement("span",null,T.a.times(e.coin_price,e.number),"\u5e01"),"\xa5",T.a.times(e.sell_price,e.number))))})))),r.a.createElement("div",{className:"cart_img footer"},r.a.createElement("img",{src:J.a,alt:"0",onClick:function(){l(!c)}}),r.a.createElement("li",null,null===d||void 0===d?void 0:d.num)),r.a.createElement("div",{className:"normal"},r.a.createElement("div",{className:"all_price",onClick:function(){l(!c)}},r.a.createElement("p",{className:"new"},"\xa5",null===d||void 0===d?void 0:d.allPrice,"  ",r.a.createElement("span",null,null===d||void 0===d?void 0:d.coin,"\u5e01"))),r.a.createElement("div",{className:"submit",onClick:function(){!function(){h.apply(this,arguments)}()}},"\u63d0\u4ea4\u8ba2\u5355")),c&&r.a.createElement("div",{className:"mask_s",onClick:function(){return l(!1)}}))})),Z=(a(224),function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/login/check-shop",data:{s:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),X=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/product/category",data:{shop_id:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/product/list",data:{shop_id:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n,r,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:10,e.next=3,O({method:"post",url:"shop/v1/order/list",data:{status:t,page:a,pageSize:n}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({method:"post",url:"/shop/v1/order/detail",data:{order_id:t,shop_id:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var te=Object(F.b)(L,R)((function(e){var t=e.shop,a=Object(n.useState)(!1),c=Object(s.a)(a,2),l=(c[0],c[1],Object(n.useState)([])),i=Object(s.a)(l,2),m=i[0],d=i[1],p=(Object(D.g)(),Object(n.useState)("")),f=Object(s.a)(p,2),v=f[0],h=f[1],E=Object(n.useState)([]),b=Object(s.a)(E,2),g=b[0],w=b[1],O=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:(a=e.sent)&&(d(a.product),console.log(a.product));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function x(){return(x=Object(u.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,X();case 3:(a=e.sent)&&(w(a.category),O());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[]);var j=function(e){console.log(e),h(e)};return r.a.createElement("div",{className:"home_wrap"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title-bg"},r.a.createElement("img",{src:t.cover,alt:"a"}),r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,t.shop_name),r.a.createElement("div",{className:"address"},r.a.createElement("span",null,t.address)," ",r.a.createElement("svg",{t:"1608519398172",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10744",width:"16",height:"16"},r.a.createElement("path",{d:"M871.96254815 405.84786173c0-216.99697778-157.52912592-374.40474075-374.40474074-374.40474075-206.4384 0-374.40474075 167.96634075-374.40474074 374.40474075 0 152.43188148 207.04521482 410.5709037 318.33505185 549.28877037l8.25268148 10.19448888c11.65084445 14.56355555 29.12711111 22.9376 47.93837037 22.9376 18.6898963 0 36.16616297-8.37404445 47.93837038-22.9376l8.25268147-10.19448888c111.04711111-138.71786667 318.09232592-396.85688889 318.09232593-549.28877037z m-376.34654815 108.49848888c-76.3373037 0-138.35377778-62.01647408-138.35377778-138.35377778s62.01647408-138.35377778 138.35377778-138.35377777 138.35377778 62.01647408 138.35377778 138.35377777-62.01647408 138.35377778-138.35377778 138.35377778z",fill:"#00A0E9","p-id":"10745"}),r.a.createElement("path",{d:"M497.55780741-1.20351605c-224.40011852 0-407.05137778 182.5298963-407.05137778 407.05137778 0 163.84 211.77837037 427.80444445 325.49546667 569.67774814l8.13131852 10.19448889c17.96171852 22.33078518 44.66157037 35.19525925 73.30322963 35.19525927s55.34151111-12.86447408 73.30322963-35.19525927l8.25268147-10.19448889C692.83081482 833.65230617 904.48782222 569.68786173 904.48782222 405.84786173c0-235.80823703-171.12177778-407.05137778-406.93001481-407.05137778z m0 989.47223703c-18.6898963 0-36.16616297-8.37404445-47.93837038-22.9376l-8.25268148-10.19448888c-111.28983703-138.71786667-318.33505185-396.85688889-318.33505185-549.28877037 0-206.4384 167.96634075-374.40474075 374.40474075-374.40474075 216.99697778 0 374.40474075 157.52912592 374.40474073 374.40474075 0 152.43188148-207.04521482 410.5709037-318.33505185 549.28877037l-8.25268148 10.19448888c-11.52948148 14.56355555-29.00574815 22.9376-47.69564444 22.9376z",fill:"#ffffff","p-id":"10746"}),r.a.createElement("path",{d:"M495.616 375.99257283m-105.8285037 0a105.8285037 105.8285037 0 1 0 211.6570074 0 105.8285037 105.8285037 0 1 0-211.6570074 0Z",fill:"#FFFFFF","p-id":"10747"}),r.a.createElement("path",{d:"M633.96977778 375.99257283c0-76.3373037-62.01647408-138.35377778-138.35377778-138.35377777s-138.35377778 62.01647408-138.35377778 138.35377777 62.01647408 138.35377778 138.35377778 138.35377778 138.35377778-62.01647408 138.35377778-138.35377778z m-244.18228148 0c0-58.37558518 47.45291852-105.8285037 105.8285037-105.82850369s105.8285037 47.45291852 105.8285037 105.82850369-47.45291852 105.8285037-105.8285037 105.8285037-105.8285037-47.45291852-105.8285037-105.8285037z",fill:"#ffffff","p-id":"10748"}))))),r.a.createElement("div",{className:"tab"},r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){j(0)},style:0==v?{fontWeight:"500"}:{}},"\u5168\u90e8\u5206\u7c7b"),g&&g.map((function(e){return r.a.createElement("li",{onClick:function(){j(e.category_id)},key:e.category_id+e.category_name,style:v==e.category_id?{fontWeight:"500"}:{}},e.category_name)})))),r.a.createElement("div",{className:"food_wrap animate__fadeIn animate__animated"},m[0]&&m.map((function(e){return r.a.createElement("div",{className:"food",key:e.product_id},r.a.createElement(P,{food:e,shop_id:t.shop_id}))}))),r.a.createElement(q,{shop_id:t.shop_id})))})),ae=a(56),ne=a(320),re=(a(225),ne.a.TabPane);var ce=Object(F.b)(L,R)((function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useState)(!1),l=Object(s.a)(c,2),i=(l[0],l[1],Object(n.useState)(null)),m=Object(s.a)(i,2),d=(m[0],m[1],Object(n.useState)(0)),v=Object(s.a)(d,2),h=v[0],E=v[1],b=Object(n.useState)(0),g=Object(s.a)(b,2),w=g[0],O=g[1],x=Object(n.useState)(""),j=Object(s.a)(x,2),_=j[0],y=(j[1],Object(n.useState)(1)),N=Object(s.a)(y,2),A=N[0],S=N[1],k=Object(n.useState)(0),C=Object(s.a)(k,2),z=C[0],B=C[1],I=Object(D.g)(),V=Object(n.useState)([]),L=Object(s.a)(V,2),R=L[0],F=L[1];function M(){return(M=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.b.loading({content:"\u52a0\u8f7d\u4e2d",duration:0}),e.next=3,$("",1);case 3:(t=e.sent)&&(B(t.total),p.b.destroy(),F(t.list));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=f(function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t){e.next=11;break}if(console.log("\u5230\u5e95\u4e86"),z!==R.length){e.next=5;break}return p.b.warn("\u5230\u5e95\u4e86"),e.abrupt("return");case 5:if(!(z>10&&R.length!==z)){e.next=11;break}return p.b.loading({content:"\u52a0\u8f7d\u4e2d",duration:0}),e.next=9,$(_,A+1);case 9:(a=e.sent)&&(F([].concat(Object(ae.a)(R),Object(ae.a)(a.list))),S(A+1),B(a.total),p.b.destroy(),p.b.success("\u52a0\u8f7d\u6210\u529f"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),200);function H(){return(H=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.b.loading({content:"\u52a0\u8f7d\u4e2d",duration:0}),e.next=3,$(t,1);case 3:(a=e.sent)&&(B(a.total),F(a.list),p.b.destroy());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){E(t.current.clientHeight)}),[R]),Object(n.useEffect)((function(){O(a.current.clientHeight),E(t.current.clientHeight),function(){M.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"order_wrap animate__fadeIn animate__animated"},r.a.createElement(ne.a,{defaultActiveKey:"1",onChange:function(e){e&&function(e){H.apply(this,arguments)}(e)},className:"order_tabs"},r.a.createElement(re,{tab:"\u5f85\u652f\u4ed8",key:"2"}),r.a.createElement(re,{tab:"\u5907\u8d27\u4e2d",key:"3"}),r.a.createElement(re,{tab:"\u9001\u8d27\u4e2d",key:"4"}),r.a.createElement(re,{tab:"\u5df2\u5b8c\u6210",key:"8"})),r.a.createElement("div",{className:"list_wrap",ref:a,onScroll:function(e){U(h-w+12-e.target.scrollTop)}},r.a.createElement("div",{ref:t},R&&R.map((function(e,t){return r.a.createElement("div",{className:"order_item",key:e.order_id,onClick:function(){var t;t=e.order_id,console.log("\u8ba2\u5355\u8be6\u60c5"+t),I.push("/integral/orderdetail?order_id=".concat(t))}},r.a.createElement("div",{className:"img_box"},r.a.createElement("img",{src:e.shop.logo,alt:"a"})),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"shop_name"},e.shop.shop_name),1===e.distribution_mode?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"address"},r.a.createElement("span",null,"\u914d\u9001\u81f3\uff1a"),e.address.address),r.a.createElement("div",{className:"time"},r.a.createElement("span",null,"\u914d\u9001\u65f6\u95f4\uff1a"),e.delivery_time||"")):r.a.createElement("div",{className:"ziti"},r.a.createElement("span",null,"\u81ea\u63d0\u5904\uff1a"),e.shop.address),r.a.createElement("div",{className:1===e.distribution_mode?"price":"tprice"},"\u4ee3\u5e01"===e.type_message?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"\u603b\u8ba1\uff1a"),e.price,"\u5e01"):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"\u603b\u8ba1\uff1a"),"\xa5",e.price))),r.a.createElement("div",{className:"status"},function(e){if(1===e.status)return r.a.createElement("span",{style:{color:"#F97B50"}},"\u5907\u8d27\u4e2d")}(e)))})))))}));a(232);var le=Object(F.b)(L,R)((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=(a[0],a[1],Object(n.useState)(null)),l=Object(s.a)(c,2),i=(l[0],l[1],Object(D.g)());return Object(n.useEffect)((function(){}),[]),r.a.createElement(r.a.Fragment,null,e.userStore&&r.a.createElement("div",{className:"center_wrap animate__fadeIn animate__animated"},r.a.createElement("div",{className:"info_wrap"},r.a.createElement("h3",null,"\u4e2a\u4eba\u4e2d\u5fc3"),r.a.createElement("div",{className:"avatar_wrap"},r.a.createElement("div",{className:"avatar"},e.userStore.avatar?r.a.createElement("img",{src:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3028333849,2986765516&fm=26&gp=0.jpg",alt:"x"}):r.a.createElement("svg",{t:"1608795001756",className:"icon img",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2982",width:"16",height:"16"},r.a.createElement("path",{d:"M96.5 844.9c15.9-1.1 32.7-1.9 50.3-2.5v-15.7h-41.3v-12.4c2.7-3.8 7.4-11.3 14-22.3H98.2v-11.6h28.1c3.8-7.1 7.4-14 10.7-20.6l13.2 4.1c-2.2 5.5-5 11-8.3 16.5h52V792h-58.6c-6.6 11-11.3 18.4-14 22.3h25.6v-14.9h13.2v14.9h32.2v12.4h-32.2v14.9c3.3 0 8.5-0.3 15.7-0.8 7.1 0 12.4-0.3 15.7-0.8 0 4.4-0.3 8.5-0.8 12.4-3.3 0-8.3 0.3-14.9 0.8-7.2 0-12.4 0.3-15.7 0.8v15.7h-13.2v-14.9c-9.9 1.1-23.7 2.2-41.3 3.3h-7.4l-1.7-13.2z m30.6 29.7h137v82.5h-14v-8.3h-109v8.3h-14v-82.5z m14 12.4v19H250v-19H141.1z m0 31.3v18.2H250v-18.2H141.1z m64.4-141.1c23.6 0 50.1-2.2 79.2-6.6l4.1 12.4c-24.8 3.3-48.1 5.2-70.1 5.8v25.6H293v12.4h-29v42.1h-14v-42.1h-32.2c-1.6 14.9-8 30-19 45.4-6.6-6-10.5-9.3-11.6-9.9 13.2-14.3 19.2-34.7 18.2-61.1v-24h0.1zM325.9 778h162.6v14h-75.1c-0.6 18.2-2.2 34.1-5 47.9h94.9v14.9h-77.6v64.4c-0.6 11.6 4.7 17 15.7 16.5h28.1c11 0.5 16.8-3.6 17.3-12.4 0-2.2 0.3-5.2 0.8-9.1 0.5-7.1 1.1-13.2 1.7-18.2 1.6 0.6 4.4 1.4 8.3 2.5 3.3 1.7 5.8 2.8 7.4 3.3-0.6 11-1.7 20.1-3.3 27.2-1.1 15.4-11.6 22.5-31.4 21.5h-32.2c-19.3 0.5-28.6-9.1-28.1-28.9v-66.8h-5c-9.4 43.5-38 78.4-85.8 104.8-2.8-5-6.6-9.9-11.6-14.9 44.6-21.5 71.5-51.4 80.9-89.9h-77.6v-14.9h80.9c3.3-13.7 5-29.7 5-47.9h-71v-14h0.1zM529.7 770.6h175.8v186.5h-14.9v-9.9h-146v9.9h-14.9V770.6z m14.9 14V934h146V784.6h-146z m6.6 48.7c19.2-14.3 34.4-29.7 45.4-46.2l13.2 5.8c-2.2 3.9-5 7.4-8.3 10.7h70.1V816c-10.5 12.7-22.3 23.1-35.5 31.4 14.9 6.1 31.6 9.9 50.3 11.6-1.1 2.8-2.8 6.6-5 11.6 0.5-1.1 0 0-1.7 3.3-23.1-4.4-42.4-10.4-57.8-18.2-17.1 8.8-39.6 16.2-67.7 22.3-1.1-3.8-3.3-8.5-6.6-14 21.5-3.3 41.3-8.8 59.4-16.5-10.5-7.7-19-15.1-25.6-22.3-6.6 7.2-13.5 13.2-20.6 18.2-5.2-5.7-8.5-9-9.6-10.1z m14.8 76.8l4.1-13.2c4.4 0.6 12.1 1.7 23.1 3.3 38 5.5 62.2 9.6 72.6 12.4l-5 14.9c-26.8-6.7-58.4-12.5-94.8-17.4z m20.7-25.6l4.1-14c2.2 0.6 5.8 1.1 10.7 1.7 25.3 4.4 42.4 7.4 51.2 9.1l-5 14c-20.9-4.5-41.2-8.1-61-10.8z m66-67.7h-60.2c8.3 9.4 18.2 17.1 29.7 23.1 12.6-7.1 22.8-14.8 30.5-23.1zM857.3 763.2H873V821h54.5v14.9H783.9V849c0 8.3-0.3 15.7-0.8 22.3h98.2v85.8h-15.7v-71h-83.3c-2.2 27.5-13.2 51.4-33 71.8-1.7-1.6-3.9-4.1-6.6-7.4-3.3-3.3-5.2-5.5-5.8-6.6 22.5-20.3 33-51.7 31.4-94.1v-82.5H784v53.6h73.4v-57.7h-0.1zM166.9 152.4v391c0 36.5 7.2 43.4 42.4 43.4h480.2c34.9 0 42.4-6.7 42.4-43.4v-391c0-35.7-6.6-43.4-42.4-43.4H209.3c-35.1 0-42.4 6.1-42.4 43.4z m498.4 333H233.7c47.2-70.5 131-188.1 152.4-188.1 20.6 0 90.6 95 122.3 128.4 0 0 40.7-55.8 62-55.8 21.7 0.2 94.2 115 94.9 115.5zM538.5 239.3c0-29.6 23.3-53.4 52.1-53.4s52.1 23.9 52.1 53.4-23.3 53.4-52.1 53.4-52.1-23.8-52.1-53.4zM431.8 82.8l-82.6-16.1c-27.4-5.4-38.3-3.4-45 16.1h127.6zM821 158.5l-64.6-12.6v398c0 18.2-1.2 38.9-15.3 53-13.7 13.8-33.5 14.9-51 14.9h-39L734 628c34.2 6.7 42.8 1.5 49.5-34.6l71.1-384.2c6.6-35 1.5-43.9-33.6-50.7z",fill:"#bfbfbf","p-id":"2983"}))),r.a.createElement("div",{className:"info"},r.a.createElement("span",null,e.userStore.nickname),r.a.createElement("span",null,e.userStore.mobile?e.userStore.mobile.replace(/(.{3}).*(.{4})/,"$1****$2"):"\u6682\u65e0\u7ed1\u5b9a\u624b\u673a\u53f7"))),r.a.createElement("div",{className:"a_count"},r.a.createElement("div",{className:"count_box"},r.a.createElement("span",null," ",e.userStore.coin),r.a.createElement("span",null,"\u5f53\u524d\u4ee3\u5e01\u4f59\u989d")),r.a.createElement("div",{className:"count_box"},r.a.createElement("span",null,e.userStore.total_coin),r.a.createElement("span",null,"\u5165\u8d26\u6b21\u6570")),r.a.createElement("div",{className:"count_box"},r.a.createElement("span",null,e.userStore.total_coin_number),r.a.createElement("span",null,"\u7d2f\u8ba1\u5165\u8d26 ")))),r.a.createElement("div",{className:"handle_wrap"},r.a.createElement("div",{className:"item_box",onClick:function(){return i.push("/integral/phone")}},r.a.createElement("li",null,r.a.createElement("span",null,"\u6211\u7684\u624b\u673a\u53f7"),r.a.createElement("div",null,r.a.createElement("span",{style:{verticalAlign:"middle"}},"\u4fee\u6539"),r.a.createElement("svg",{style:{verticalAlign:"middle"},t:"1608621663428",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10354",width:"14",height:"14"},r.a.createElement("path",{d:"M267.354606 72.005964c-13.515828 12.812817-13.515828 33.603329 0 46.417169l414.889265 393.579937-414.889265 393.565611c-13.515828 12.821003-13.515828 33.604352 0 46.425356 13.508665 12.81998 35.418674 12.81998 48.927339 0l432.159604-410.009118c0 0 18.33867-16.991999 18.33867-29.981848 0-11.971659-18.33867-29.989011-18.33867-29.989011L316.282968 72.005964C302.77328 59.184961 280.863271 59.184961 267.354606 72.005964z",fill:"#9D9E9D","p-id":"10355"})))),r.a.createElement("i",null)),r.a.createElement("div",{className:"item_box",onClick:function(){return i.push("/integral/address")}},r.a.createElement("li",null,r.a.createElement("span",null,"\u6536\u83b7\u5730\u5740"),r.a.createElement("div",null,r.a.createElement("span",{style:{verticalAlign:"middle"}},"\u4fee\u6539"),r.a.createElement("svg",{style:{verticalAlign:"middle"},t:"1608621663428",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10354",width:"14",height:"14"},r.a.createElement("path",{d:"M267.354606 72.005964c-13.515828 12.812817-13.515828 33.603329 0 46.417169l414.889265 393.579937-414.889265 393.565611c-13.515828 12.821003-13.515828 33.604352 0 46.425356 13.508665 12.81998 35.418674 12.81998 48.927339 0l432.159604-410.009118c0 0 18.33867-16.991999 18.33867-29.981848 0-11.971659-18.33867-29.989011-18.33867-29.989011L316.282968 72.005964C302.77328 59.184961 280.863271 59.184961 267.354606 72.005964z",fill:"#9D9E9D","p-id":"10355"})))),r.a.createElement("i",null)),r.a.createElement("div",{className:"item_box",onClick:function(){return i.push("/integral/booked")}},r.a.createElement("li",null,r.a.createElement("span",null,"\u5165\u8d26\u8ba2\u5355"),r.a.createElement("div",null,r.a.createElement("span",{style:{verticalAlign:"middle"}},"\u67e5\u770b"),r.a.createElement("svg",{style:{verticalAlign:"middle"},t:"1608621663428",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10354",width:"14",height:"14"},r.a.createElement("path",{d:"M267.354606 72.005964c-13.515828 12.812817-13.515828 33.603329 0 46.417169l414.889265 393.579937-414.889265 393.565611c-13.515828 12.821003-13.515828 33.604352 0 46.425356 13.508665 12.81998 35.418674 12.81998 48.927339 0l432.159604-410.009118c0 0 18.33867-16.991999 18.33867-29.981848 0-11.971659-18.33867-29.989011-18.33867-29.989011L316.282968 72.005964C302.77328 59.184961 280.863271 59.184961 267.354606 72.005964z",fill:"#9D9E9D","p-id":"10355"})))),r.a.createElement("i",null)),r.a.createElement("div",{className:"item_box",onClick:function(){i.push("/integral/order"),e.activeTab(1)}},r.a.createElement("li",null,r.a.createElement("span",null,"\u5546\u57ce\u8ba2\u5355"),r.a.createElement("div",null,r.a.createElement("span",{style:{verticalAlign:"middle"}},"\u67e5\u770b"),r.a.createElement("svg",{style:{verticalAlign:"middle"},t:"1608621663428",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10354",width:"14",height:"14"},r.a.createElement("path",{d:"M267.354606 72.005964c-13.515828 12.812817-13.515828 33.603329 0 46.417169l414.889265 393.579937-414.889265 393.565611c-13.515828 12.821003-13.515828 33.604352 0 46.425356 13.508665 12.81998 35.418674 12.81998 48.927339 0l432.159604-410.009118c0 0 18.33867-16.991999 18.33867-29.981848 0-11.971659-18.33867-29.989011-18.33867-29.989011L316.282968 72.005964C302.77328 59.184961 280.863271 59.184961 267.354606 72.005964z",fill:"#9D9E9D","p-id":"10355"})))),r.a.createElement("i",null)))))}));a(233);var se=Object(F.b)(L,R)((function(e){var t=Object(n.useState)(!0),a=Object(s.a)(t,2),c=a[0],l=a[1];function i(e){setTimeout((function(){l(e)}),400)}return Object(D.g)(),Object(n.useEffect)((function(){i(!0),i(!1)}),[]),r.a.createElement("div",null,c&&r.a.createElement("div",{className:"loading animate__fadeIn animate__animated"},r.a.createElement("h2",null,"loading......")),!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,"\u9910\u5385\u8be6\u60c5")))})),ie=a(73),oe=a.n(ie);a(127);var ue=Object(F.b)(L,R)((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=(a[0],a[1],e.list),l=e.more,i=e.setMore,o=e.order_detail,u=e.shop;return r.a.createElement("div",{className:"product_list"},r.a.createElement("div",{className:"shop_wrap"},u.logo?r.a.createElement("img",{className:"img",src:u.logo,alt:"a"}):r.a.createElement("svg",{t:"1608795001756",className:"icon img",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2982",width:"16",height:"16"},r.a.createElement("path",{d:"M96.5 844.9c15.9-1.1 32.7-1.9 50.3-2.5v-15.7h-41.3v-12.4c2.7-3.8 7.4-11.3 14-22.3H98.2v-11.6h28.1c3.8-7.1 7.4-14 10.7-20.6l13.2 4.1c-2.2 5.5-5 11-8.3 16.5h52V792h-58.6c-6.6 11-11.3 18.4-14 22.3h25.6v-14.9h13.2v14.9h32.2v12.4h-32.2v14.9c3.3 0 8.5-0.3 15.7-0.8 7.1 0 12.4-0.3 15.7-0.8 0 4.4-0.3 8.5-0.8 12.4-3.3 0-8.3 0.3-14.9 0.8-7.2 0-12.4 0.3-15.7 0.8v15.7h-13.2v-14.9c-9.9 1.1-23.7 2.2-41.3 3.3h-7.4l-1.7-13.2z m30.6 29.7h137v82.5h-14v-8.3h-109v8.3h-14v-82.5z m14 12.4v19H250v-19H141.1z m0 31.3v18.2H250v-18.2H141.1z m64.4-141.1c23.6 0 50.1-2.2 79.2-6.6l4.1 12.4c-24.8 3.3-48.1 5.2-70.1 5.8v25.6H293v12.4h-29v42.1h-14v-42.1h-32.2c-1.6 14.9-8 30-19 45.4-6.6-6-10.5-9.3-11.6-9.9 13.2-14.3 19.2-34.7 18.2-61.1v-24h0.1zM325.9 778h162.6v14h-75.1c-0.6 18.2-2.2 34.1-5 47.9h94.9v14.9h-77.6v64.4c-0.6 11.6 4.7 17 15.7 16.5h28.1c11 0.5 16.8-3.6 17.3-12.4 0-2.2 0.3-5.2 0.8-9.1 0.5-7.1 1.1-13.2 1.7-18.2 1.6 0.6 4.4 1.4 8.3 2.5 3.3 1.7 5.8 2.8 7.4 3.3-0.6 11-1.7 20.1-3.3 27.2-1.1 15.4-11.6 22.5-31.4 21.5h-32.2c-19.3 0.5-28.6-9.1-28.1-28.9v-66.8h-5c-9.4 43.5-38 78.4-85.8 104.8-2.8-5-6.6-9.9-11.6-14.9 44.6-21.5 71.5-51.4 80.9-89.9h-77.6v-14.9h80.9c3.3-13.7 5-29.7 5-47.9h-71v-14h0.1zM529.7 770.6h175.8v186.5h-14.9v-9.9h-146v9.9h-14.9V770.6z m14.9 14V934h146V784.6h-146z m6.6 48.7c19.2-14.3 34.4-29.7 45.4-46.2l13.2 5.8c-2.2 3.9-5 7.4-8.3 10.7h70.1V816c-10.5 12.7-22.3 23.1-35.5 31.4 14.9 6.1 31.6 9.9 50.3 11.6-1.1 2.8-2.8 6.6-5 11.6 0.5-1.1 0 0-1.7 3.3-23.1-4.4-42.4-10.4-57.8-18.2-17.1 8.8-39.6 16.2-67.7 22.3-1.1-3.8-3.3-8.5-6.6-14 21.5-3.3 41.3-8.8 59.4-16.5-10.5-7.7-19-15.1-25.6-22.3-6.6 7.2-13.5 13.2-20.6 18.2-5.2-5.7-8.5-9-9.6-10.1z m14.8 76.8l4.1-13.2c4.4 0.6 12.1 1.7 23.1 3.3 38 5.5 62.2 9.6 72.6 12.4l-5 14.9c-26.8-6.7-58.4-12.5-94.8-17.4z m20.7-25.6l4.1-14c2.2 0.6 5.8 1.1 10.7 1.7 25.3 4.4 42.4 7.4 51.2 9.1l-5 14c-20.9-4.5-41.2-8.1-61-10.8z m66-67.7h-60.2c8.3 9.4 18.2 17.1 29.7 23.1 12.6-7.1 22.8-14.8 30.5-23.1zM857.3 763.2H873V821h54.5v14.9H783.9V849c0 8.3-0.3 15.7-0.8 22.3h98.2v85.8h-15.7v-71h-83.3c-2.2 27.5-13.2 51.4-33 71.8-1.7-1.6-3.9-4.1-6.6-7.4-3.3-3.3-5.2-5.5-5.8-6.6 22.5-20.3 33-51.7 31.4-94.1v-82.5H784v53.6h73.4v-57.7h-0.1zM166.9 152.4v391c0 36.5 7.2 43.4 42.4 43.4h480.2c34.9 0 42.4-6.7 42.4-43.4v-391c0-35.7-6.6-43.4-42.4-43.4H209.3c-35.1 0-42.4 6.1-42.4 43.4z m498.4 333H233.7c47.2-70.5 131-188.1 152.4-188.1 20.6 0 90.6 95 122.3 128.4 0 0 40.7-55.8 62-55.8 21.7 0.2 94.2 115 94.9 115.5zM538.5 239.3c0-29.6 23.3-53.4 52.1-53.4s52.1 23.9 52.1 53.4-23.3 53.4-52.1 53.4-52.1-23.8-52.1-53.4zM431.8 82.8l-82.6-16.1c-27.4-5.4-38.3-3.4-45 16.1h127.6zM821 158.5l-64.6-12.6v398c0 18.2-1.2 38.9-15.3 53-13.7 13.8-33.5 14.9-51 14.9h-39L734 628c34.2 6.7 42.8 1.5 49.5-34.6l71.1-384.2c6.6-35 1.5-43.9-33.6-50.7z",fill:"#bfbfbf","p-id":"2983"})),r.a.createElement("div",{className:"text"},r.a.createElement("span",null,u.shop_name),r.a.createElement("aside",null,r.a.createElement("svg",{t:"1608537715980",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6843",width:"8",height:"8"},r.a.createElement("path",{d:"M1009.562 454.103c-72.264 88.023-200.049 233.339-200.049 233.339s20.9 159.55 32.614 268.534c5.09 55.51-34.928 79.513-80.25 57.876-86.242-43.325-217.478-110.448-247-125.573-30.044 14.97-162.6 80.988-249.733 124.211-45.844 21.586-86.343-2.416-81.193-57.825 11.869-108.82 32.983-268.216 32.983-268.216S87.685 541.44 14.582 453.529c-25.836-31.928-9.247-77.311 41.697-85.657 103.885-19.64 264.909-50.944 264.909-50.944s88.074-162.335 143.8-261.755C495.657-5.325 516.874 1.66 520.5 3.441c9.452 3.256 24.371 15.022 43.848 51.783 55.091 99.574 142.172 262.124 142.172 262.124s159.13 31.304 261.806 50.995c50.33 8.397 66.765 53.832 41.237 85.76z",fill:"#ff9200","p-id":"6844"})),r.a.createElement("span",null,"\u8425\u4e1a\u4e2d")))),r.a.createElement("div",{className:"food_list"},c[0]&&c.map((function(e,t){return l||t<2?r.a.createElement("li",{key:e.product_id,className:"cashier_foot_item"},r.a.createElement("div",{className:"desc_wrap"},r.a.createElement("div",{className:"e_img"},r.a.createElement("img",{src:e.product_picture,alt:"\u52a0\u8f7d\u5931\u8d25"})),r.a.createElement("div",{className:"e_desc"},r.a.createElement("p",null,e.product_name),r.a.createElement("div",{style:{textAlign:"left"}},e.number," \u4ef6"))),r.a.createElement("div",{className:"e_price"},r.a.createElement("p",{className:"new"},r.a.createElement("span",null,T.a.times(e.coin,e.number),"\u5e01"),"\xa5",T.a.times(e.price,e.number)))):l&&r.a.createElement("li",{key:e.product_id,className:"cashier_foot_item"},r.a.createElement("div",{className:"desc_wrap"},r.a.createElement("div",{className:"e_img"},r.a.createElement("img",{src:e.picture,alt:""})),r.a.createElement("div",{className:"e_desc"},r.a.createElement("p",null,e.product_name),r.a.createElement("div",{style:{textAlign:"left"}},e.number," \u4ef6"))),r.a.createElement("div",{className:"e_price"},r.a.createElement("p",{className:"new"},r.a.createElement("span",null,T.a.times(e.coin,e.number),"\u5e01"),"\xa5",T.a.times(e.price,e.number))))}))),l?r.a.createElement("div",{className:"cashier_footer"},c.length,"\u4ef6",r.a.createElement("span",{onClick:function(){return i(!1)}},"\u6536\u8d77")):r.a.createElement("div",{className:"cashier_footer"},c.length,"\u4ef6",c.length<=2?r.a.createElement("span",null,"\u6ca1\u6709\u66f4\u591a\u4e86"):r.a.createElement("span",{onClick:function(){return i(!0)}},"\u67e5\u770b\u66f4\u591a")),r.a.createElement("div",{className:"call_footer"},r.a.createElement("a",{href:"tel:".concat(e.shop.contact),className:"call",style:{color:" color: rgba(9, 44, 76, 1)"}},r.a.createElement("img",{src:oe.a,alt:""}),r.a.createElement("span",null,"\u8054\u7cfb\u5546\u5bb6")),r.a.createElement("div",{className:"price_box"},r.a.createElement("div",{className:"money"},r.a.createElement("p",null,"\u5408\u8ba1\uff1a","\u4ee3\u5e01"===o.order.type_message?r.a.createElement("span",null,o.price," \u5e01"):r.a.createElement("span",null,"\xa5",o.price))))))}));a(234);var me=Object(F.b)(L,R)((function(e){var t=Object(n.useState)(!0),a=Object(s.a)(t,2),c=(a[0],a[1]),l=Object(n.useState)(!1),i=Object(s.a)(l,2),m=i[0],d=i[1],f=Object(n.useState)(""),v=Object(s.a)(f,2),h=v[0],E=v[1],b=Object(n.useState)(null),g=Object(s.a)(b,2),w=g[0],O=g[1],x=Object(D.g)();function j(e){setTimeout((function(){c(e)}),400)}function _(){return(_=Object(u.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j(!0),!x.location.search){t.next=9;break}return a=x.location.search.split("?order_id="),E(a[1]),t.next=6,ee(a[1],e.shop.shop_id);case 6:n=t.sent,console.log(n),O(n);case 9:j(!1);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){_.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"order_detail"},h?w&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"order_status"},w.status_message),r.a.createElement("div",{className:"list"},r.a.createElement(ue,{isOrderDetails:!0,more:m,setMore:d,list:w.product.product,order_detail:w})),r.a.createElement("div",{className:"address_wrap"},r.a.createElement("div",{className:"title"},"\u914d\u9001\u4fe1\u606f"),r.a.createElement("i",null),r.a.createElement("div",{className:"content"},r.a.createElement("span",null,"\u914d\u9001\u670d\u52a1"),r.a.createElement("span",null,w.order.distribution_mode_message)),r.a.createElement("div",{className:"content"},r.a.createElement("span",null,"\u6536\u8d27\u4eba"),r.a.createElement("span",null,w.address.name)),r.a.createElement("div",{className:"content"},r.a.createElement("span",null,"\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("span",null,w.address.mobile)),r.a.createElement("div",{className:"content"},r.a.createElement("span",null,"\u6536\u8d27\u5730\u5740"),r.a.createElement("span",null,w.address.address))),r.a.createElement("div",{className:"order_info"},r.a.createElement("div",{className:"title"},"\u8ba2\u5355\u4fe1\u606f"),r.a.createElement("i",null),r.a.createElement("div",{className:"content"},r.a.createElement("span",null,"\u8ba2\u5355\u53f7\u7801"),r.a.createElement("span",null,r.a.createElement("span",{className:"copyText"},w.order.order_id),r.a.createElement("div",{className:"copy",onClick:function(){!function(e){var t=document.querySelector(".copyText");if(0!==e.length){var a=document.createRange();window.getSelection().removeAllRanges(),a.selectNode(t),window.getSelection().addRange(a),document.execCommand("copy")?p.b.success("\u590d\u5236\u6210\u529f\uff01"):p.b.warning("\u590d\u5236\u5931\u8d25\uff0c\u8bf7\u624b\u52a8\u590d\u5236\uff01"),window.getSelection().removeAllRanges()}else p.b.warning("\u6ca1\u6709\u5185\u5bb9")}(w.order.order_id)}},"\u590d\u5236"))),r.a.createElement("div",{className:"content"},r.a.createElement("span",null,"\u4e0b\u5355\u65f6\u95f4"),r.a.createElement("span",null,w.order.create_at)),r.a.createElement("div",{className:"content"},r.a.createElement("span",null,"\u652f\u4ed8\u65b9\u5f0f"),r.a.createElement("span",null,w.pay_order.pay_method_message)))):null)})),de=a(79),pe=a(152),fe=a.n(pe),ve=a(153),he=a.n(ve),Ee=a(154),be=a.n(Ee);var ge=Object(F.b)(L,R)((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=(a[0],a[1],e.list),l=e.more,i=e.setMore,o=e.order_detail,u=e.isCashier,m=e.isOrderDetails,d=(e.shop_detail,e.shop);return r.a.createElement("div",{className:"product_list"},r.a.createElement("div",{className:"shop_wrap"},d.logo?r.a.createElement("img",{className:"img",src:d.logo,alt:"a"}):r.a.createElement("svg",{t:"1608795001756",className:"icon img",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2982",width:"16",height:"16"},r.a.createElement("path",{d:"M96.5 844.9c15.9-1.1 32.7-1.9 50.3-2.5v-15.7h-41.3v-12.4c2.7-3.8 7.4-11.3 14-22.3H98.2v-11.6h28.1c3.8-7.1 7.4-14 10.7-20.6l13.2 4.1c-2.2 5.5-5 11-8.3 16.5h52V792h-58.6c-6.6 11-11.3 18.4-14 22.3h25.6v-14.9h13.2v14.9h32.2v12.4h-32.2v14.9c3.3 0 8.5-0.3 15.7-0.8 7.1 0 12.4-0.3 15.7-0.8 0 4.4-0.3 8.5-0.8 12.4-3.3 0-8.3 0.3-14.9 0.8-7.2 0-12.4 0.3-15.7 0.8v15.7h-13.2v-14.9c-9.9 1.1-23.7 2.2-41.3 3.3h-7.4l-1.7-13.2z m30.6 29.7h137v82.5h-14v-8.3h-109v8.3h-14v-82.5z m14 12.4v19H250v-19H141.1z m0 31.3v18.2H250v-18.2H141.1z m64.4-141.1c23.6 0 50.1-2.2 79.2-6.6l4.1 12.4c-24.8 3.3-48.1 5.2-70.1 5.8v25.6H293v12.4h-29v42.1h-14v-42.1h-32.2c-1.6 14.9-8 30-19 45.4-6.6-6-10.5-9.3-11.6-9.9 13.2-14.3 19.2-34.7 18.2-61.1v-24h0.1zM325.9 778h162.6v14h-75.1c-0.6 18.2-2.2 34.1-5 47.9h94.9v14.9h-77.6v64.4c-0.6 11.6 4.7 17 15.7 16.5h28.1c11 0.5 16.8-3.6 17.3-12.4 0-2.2 0.3-5.2 0.8-9.1 0.5-7.1 1.1-13.2 1.7-18.2 1.6 0.6 4.4 1.4 8.3 2.5 3.3 1.7 5.8 2.8 7.4 3.3-0.6 11-1.7 20.1-3.3 27.2-1.1 15.4-11.6 22.5-31.4 21.5h-32.2c-19.3 0.5-28.6-9.1-28.1-28.9v-66.8h-5c-9.4 43.5-38 78.4-85.8 104.8-2.8-5-6.6-9.9-11.6-14.9 44.6-21.5 71.5-51.4 80.9-89.9h-77.6v-14.9h80.9c3.3-13.7 5-29.7 5-47.9h-71v-14h0.1zM529.7 770.6h175.8v186.5h-14.9v-9.9h-146v9.9h-14.9V770.6z m14.9 14V934h146V784.6h-146z m6.6 48.7c19.2-14.3 34.4-29.7 45.4-46.2l13.2 5.8c-2.2 3.9-5 7.4-8.3 10.7h70.1V816c-10.5 12.7-22.3 23.1-35.5 31.4 14.9 6.1 31.6 9.9 50.3 11.6-1.1 2.8-2.8 6.6-5 11.6 0.5-1.1 0 0-1.7 3.3-23.1-4.4-42.4-10.4-57.8-18.2-17.1 8.8-39.6 16.2-67.7 22.3-1.1-3.8-3.3-8.5-6.6-14 21.5-3.3 41.3-8.8 59.4-16.5-10.5-7.7-19-15.1-25.6-22.3-6.6 7.2-13.5 13.2-20.6 18.2-5.2-5.7-8.5-9-9.6-10.1z m14.8 76.8l4.1-13.2c4.4 0.6 12.1 1.7 23.1 3.3 38 5.5 62.2 9.6 72.6 12.4l-5 14.9c-26.8-6.7-58.4-12.5-94.8-17.4z m20.7-25.6l4.1-14c2.2 0.6 5.8 1.1 10.7 1.7 25.3 4.4 42.4 7.4 51.2 9.1l-5 14c-20.9-4.5-41.2-8.1-61-10.8z m66-67.7h-60.2c8.3 9.4 18.2 17.1 29.7 23.1 12.6-7.1 22.8-14.8 30.5-23.1zM857.3 763.2H873V821h54.5v14.9H783.9V849c0 8.3-0.3 15.7-0.8 22.3h98.2v85.8h-15.7v-71h-83.3c-2.2 27.5-13.2 51.4-33 71.8-1.7-1.6-3.9-4.1-6.6-7.4-3.3-3.3-5.2-5.5-5.8-6.6 22.5-20.3 33-51.7 31.4-94.1v-82.5H784v53.6h73.4v-57.7h-0.1zM166.9 152.4v391c0 36.5 7.2 43.4 42.4 43.4h480.2c34.9 0 42.4-6.7 42.4-43.4v-391c0-35.7-6.6-43.4-42.4-43.4H209.3c-35.1 0-42.4 6.1-42.4 43.4z m498.4 333H233.7c47.2-70.5 131-188.1 152.4-188.1 20.6 0 90.6 95 122.3 128.4 0 0 40.7-55.8 62-55.8 21.7 0.2 94.2 115 94.9 115.5zM538.5 239.3c0-29.6 23.3-53.4 52.1-53.4s52.1 23.9 52.1 53.4-23.3 53.4-52.1 53.4-52.1-23.8-52.1-53.4zM431.8 82.8l-82.6-16.1c-27.4-5.4-38.3-3.4-45 16.1h127.6zM821 158.5l-64.6-12.6v398c0 18.2-1.2 38.9-15.3 53-13.7 13.8-33.5 14.9-51 14.9h-39L734 628c34.2 6.7 42.8 1.5 49.5-34.6l71.1-384.2c6.6-35 1.5-43.9-33.6-50.7z",fill:"#bfbfbf","p-id":"2983"})),r.a.createElement("div",{className:"text"},r.a.createElement("span",null,d.shop_name),r.a.createElement("aside",null,r.a.createElement("svg",{t:"1608537715980",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6843",width:"8",height:"8"},r.a.createElement("path",{d:"M1009.562 454.103c-72.264 88.023-200.049 233.339-200.049 233.339s20.9 159.55 32.614 268.534c5.09 55.51-34.928 79.513-80.25 57.876-86.242-43.325-217.478-110.448-247-125.573-30.044 14.97-162.6 80.988-249.733 124.211-45.844 21.586-86.343-2.416-81.193-57.825 11.869-108.82 32.983-268.216 32.983-268.216S87.685 541.44 14.582 453.529c-25.836-31.928-9.247-77.311 41.697-85.657 103.885-19.64 264.909-50.944 264.909-50.944s88.074-162.335 143.8-261.755C495.657-5.325 516.874 1.66 520.5 3.441c9.452 3.256 24.371 15.022 43.848 51.783 55.091 99.574 142.172 262.124 142.172 262.124s159.13 31.304 261.806 50.995c50.33 8.397 66.765 53.832 41.237 85.76z",fill:"#ff9200","p-id":"6844"})),r.a.createElement("span",null,"\u8425\u4e1a\u4e2d")))),r.a.createElement("div",{className:"food_list"},c[0]&&c.map((function(e,t){return(l||t<2||l)&&r.a.createElement("li",{key:e.product_id,className:"cashier_foot_item"},r.a.createElement("div",{className:"desc_wrap"},r.a.createElement("div",{className:"e_img"},r.a.createElement("img",{src:e.picture,alt:""})),r.a.createElement("div",{className:"e_desc"},m?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,e.product_name),r.a.createElement("div",{style:{textAlign:"left"}},e.number," \u4ef6")):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,e.product_name),r.a.createElement("div",null,r.a.createElement(Q,{isCashier:!0,food_item:e}))))),r.a.createElement("div",{className:"e_price"},r.a.createElement("p",{className:"new"},r.a.createElement("span",null,T.a.times(e.coin_price,e.number),"\u5e01"),"\xa5",T.a.times(e.sell_price,e.number))))}))),l?r.a.createElement("div",{className:"cashier_footer"},c.length,"\u4ef6",r.a.createElement("span",{onClick:function(){return i(!1)}},"\u6536\u8d77")):r.a.createElement("div",{className:"cashier_footer"},c.length,"\u4ef6",c.length<=2?r.a.createElement("span",null,"\u6ca1\u6709\u66f4\u591a\u4e86"):r.a.createElement("span",{onClick:function(){return i(!0)}},"\u67e5\u770b\u66f4\u591a")),r.a.createElement("div",{className:"call_footer"},r.a.createElement("a",{href:"tel:".concat(e.shop.contact),className:"call",style:{color:" color: rgba(9, 44, 76, 1)"}},r.a.createElement("img",{src:oe.a,alt:""}),r.a.createElement("span",null,"\u8054\u7cfb\u5546\u5bb6")),r.a.createElement("div",{className:"price_box"},r.a.createElement("div",{className:"coin_box"},r.a.createElement("p",null,"\u4ee3\u5e01\u4ef7\uff1a",u?r.a.createElement("span",null,o.coin):r.a.createElement("span",null,o.pay.coin),"\u5e01")),r.a.createElement("div",{className:"money"},r.a.createElement("p",null,"\u5408\u8ba1\uff1a",r.a.createElement("span",null,"\xa5",u?o.allPrice:o.pay.price))))))})),we=(a(235),ne.a.TabPane);var Oe=Object(F.b)(L,R)((function(e){var t,a,c=Object(n.useState)(!1),l=Object(s.a)(c,2),i=l[0],m=l[1],d=Object(n.useState)(1),f=Object(s.a)(d,2),v=f[0],h=f[1],E=Object(n.useState)(!1),b=Object(s.a)(E,2),g=b[0],w=b[1],O=Object(n.useState)(null),x=Object(s.a)(O,2),j=x[0],_=x[1],y=e.cart,N=e.cartSummary,S=e.shop_id,k=Object(n.useState)(""),z=Object(s.a)(k,2),V=z[0],L=z[1],R=Object(D.g)();function F(){var e=JSON.parse(JSON.stringify(y));return e[S]?(e[S].list.forEach((function(t,a){for(var n=0;n<e[S].list[a].product.length;n++){var r=e[S].list[a].product[n];delete r.cate_id,delete r.product_name,delete r.picture,delete r.stock,delete r.sell_price,delete r.category_id,delete r.coin_price}})),e[S].list):""}function M(){return(M=Object(u.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==N.num){t.next=3;break}return R.replace("/integral/home"),t.abrupt("return");case 3:if(!e.useAddress){t.next=8;break}return t.next=6,C(e.useAddress);case 6:n=t.sent,_(n);case 8:return t.next=10,A();case 10:r=t.sent,console.log(r);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(e){return H.apply(this,arguments)}function H(){return(H=Object(u.a)(o.a.mark((function t(a){var n,r,c,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m(!0),p.b.loading({content:"\u4ed8\u6b3e\u4e2d...",duration:0}),a){t.next=7;break}"wx"===e.isBrowser?n=5:"zfb"===e.isBrowser?n=6:(p.b.destroy(),p.b.error("\u8bf7\u4f7f\u7528\u5fae\u4fe1\u652f\u4ed8\u5b9d\u6253\u5f00")),T(6),t.next=24;break;case 7:if(n=7,V){t.next=18;break}return t.next=11,B(F(),7,e.useAddress,v);case 11:return r=t.sent,L(r.order_id),t.next=15,I(n,r.order_id);case 15:c=t.sent,p.b.destroy(),c&&(p.b.info(c.status_message),e.clearCart(),setTimeout((function(){R.push("/integral/orderdetail?order_id="+r.order_id)}),200));case 18:if(!V){t.next=24;break}return t.next=21,I(n,V);case 21:l=t.sent,p.b.destroy(),l&&(p.b.info(l.status_message),e.clearCart(),setTimeout((function(){R.push("/integral/orderdetail?order_id="+r.order_id)}),200));case 24:m(!1);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){"undefined"==typeof WeixinJSBridge?document.addEventListener:console.log(WeixinJSBridge,"WeixinJSBridge"),function(e){M.apply(this,arguments)}()}),[]);var T=function(){var t=Object(u.a)(o.a.mark((function t(a){var n,r,c,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.isBrowser,null==(r=e.cartSummary.allPrice)||""===r||isNaN(Number(r))){t.next=18;break}if(V){t.next=13;break}return t.next=6,B(F(),a,e.useAddress,v);case 6:if(!(l=t.sent)){t.next=11;break}return t.next=10,I(a,l.order_id,e.code);case 10:c=t.sent;case 11:t.next=16;break;case 13:return t.next=15,I(a,V,e.code);case 15:c=t.sent;case 16:console.log(c),c&&"wx"===n?"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",Y(c),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",Y(c)),document.attachEvent("onWeixinJSBridgeReady",Y(c))):Y(c.payInfo):c&&"zfb"===n&&(console.log(AP),AP.tradePay({tradeNO:c.payInfo.tradeNO},(function(e){console.log(e,"zfb res")})));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(e){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign},(function(e){console.log(e,"vx res")}))};return r.a.createElement("div",{className:"cashier_wrap"},r.a.createElement("div",{className:"cashier_title"},r.a.createElement(ne.a,{defaultActiveKey:"1",onChange:function(e){e&&h(Number(e))},className:"way"},r.a.createElement(we,{tab:"\u5546\u5bb6\u914d\u9001",key:"1"}),r.a.createElement(we,{tab:"\u5230\u5e97\u81ea\u63d0",key:"2"}))),j?r.a.createElement("div",{className:"address_wrap"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("img",{src:be.a,alt:"a"}),r.a.createElement("span",null,j.address)),r.a.createElement("li",null,r.a.createElement("img",{src:fe.a,alt:"a"}),r.a.createElement("span",null,j.mobile)),r.a.createElement("li",null,r.a.createElement("img",{src:he.a,alt:"a"}),r.a.createElement("span",null,j.name))),r.a.createElement("aside",{onClick:function(){R.push("/integral/address")}},"\u4fee\u6539")):r.a.createElement("div",{className:"address_wrap",onClick:function(){R.push("/integral/address")}},r.a.createElement("ul",null,r.a.createElement("div",{style:{fontSize:"1.6rem",padding:"1rem 0"}},r.a.createElement("span",{style:{verticalAlign:"middle"}},"\u8bf7\u9009\u62e9\u5730\u5740"),r.a.createElement("svg",{style:{verticalAlign:"middle"},t:"1608621663428",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10354",width:"14",height:"14"},r.a.createElement("path",{d:"M267.354606 72.005964c-13.515828 12.812817-13.515828 33.603329 0 46.417169l414.889265 393.579937-414.889265 393.565611c-13.515828 12.821003-13.515828 33.604352 0 46.425356 13.508665 12.81998 35.418674 12.81998 48.927339 0l432.159604-410.009118c0 0 18.33867-16.991999 18.33867-29.981848 0-11.971659-18.33867-29.989011-18.33867-29.989011L316.282968 72.005964C302.77328 59.184961 280.863271 59.184961 267.354606 72.005964z",fill:"#9D9E9D","p-id":"10355"}))))),(null===(t=e.cartSummary)||void 0===t?void 0:t.productList)&&r.a.createElement(ge,{order_detail:e.cartSummary,isCashier:!0,list:null===(a=e.cartSummary)||void 0===a?void 0:a.productList,more:g,setMore:w}),r.a.createElement("div",{className:"pay_wrap"},r.a.createElement(de.a,{type:"primary",disabled:i,onClick:function(){U()}},"\u73b0\u91d1\u4ed8\u6b3e"),r.a.createElement(de.a,{type:"primary",disabled:i,onClick:function(){U(1)}},"\u4ee3\u5e01\u4ed8\u6b3e")))}));a(71);var xe=Object(F.b)(L,R)((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(0),m=Object(s.a)(i,2),d=m[0],f=m[1],h=Object(n.useState)(0),E=Object(s.a)(h,2),b=E[0],g=E[1],w=Object(n.useState)(""),O=Object(s.a)(w,2),x=O[0],j=O[1],_=Object(n.useState)(""),A=Object(s.a)(_,2),S=A[0],k=A[1];function C(){var e=10;g(!0),f(e--),setTimeout((function(){b&&function t(){setTimeout((function(){e>=0?(t(),f(e),e--,console.log(e)):(g(!1),console.log("\u7ed3\u675f"))}),1e3)}()}),0)}var z=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(x)){e.next=3;break}return p.b.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"),e.abrupt("return");case 3:if(b){e.next=12;break}return C(),p.b.loading({content:"\u83b7\u53d6\u4e2d...",duration:0}),e.next=8,y();case 8:e.sent&&(p.b.destroy(),p.b.success("\u9a8c\u8bc1\u7801\u83b7\u53d6\u6210\u529f")),e.next=13;break;case 12:return e.abrupt("return");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function B(){return(B=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.b.loading({content:"\u4fee\u6539\u4e2d...",duration:0}),t.next=3,N(S,x);case 3:t.sent&&(p.b.destroy(),p.b.success("\u4fee\u6539\u6210\u529f"),e.setUserInfo(),setTimeout((function(){I()}),200));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(){g(!1),f(0),l(!1)}return r.a.createElement("div",{className:"handle_phone"},r.a.createElement("div",{className:"title animate__fadeIn animate__animated"},c?"\u4fee\u6539\u624b\u673a\u53f7":"\u624b\u673a\u53f7"),c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"item_box animate__fadeIn animate__animated"},r.a.createElement("li",null,r.a.createElement("span",null,"\u624b\u673a\u53f7"),r.a.createElement("div",null,r.a.createElement("input",{maxLength:11,onChange:function(e){j(e.target.value)},className:"phone_input",placeholder:"\u8bf7\u8f93\u5165"}),r.a.createElement("span",{style:b?{color:"#979797",marginLeft:"2.4rem"}:{color:"#704916",marginLeft:"2.4rem"},onClick:function(){z()}},b&&d?"".concat(d,"s\u540e\u91cd\u65b0\u83b7\u53d6"):"\u83b7\u53d6\u9a8c\u8bc1\u7801")))),r.a.createElement("div",{className:"item_box animate__fadeIn animate__animated"},r.a.createElement("li",null,r.a.createElement("span",null,"\u9a8c\u8bc1\u7801"),r.a.createElement("div",null,r.a.createElement("input",{maxLength:6,onChange:function(e){k(e.target.value)},className:"phone_input",placeholder:"\u8bf7\u8f93\u5165",style:{verticalAlign:"middle"}})))),r.a.createElement("div",{className:"btn_wrap animate__fadeIn animate__animated"},r.a.createElement("span",{onClick:I},"\u53d6\u6d88"),r.a.createElement("span",{onClick:function(){!function(){B.apply(this,arguments)}()}},"\u786e\u8ba4"))):r.a.createElement("div",{className:"item_box animate__fadeIn animate__animated",onClick:function(){return l(!0)}},r.a.createElement("li",null,r.a.createElement("span",null,"\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("div",null,r.a.createElement("span",{style:{verticalAlign:"middle"}},e.userStore.mobile),r.a.createElement("svg",{style:{verticalAlign:"middle",marginLeft:"0.4rem"},t:"1608621663428",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10354",width:"14",height:"14"},r.a.createElement("path",{d:"M267.354606 72.005964c-13.515828 12.812817-13.515828 33.603329 0 46.417169l414.889265 393.579937-414.889265 393.565611c-13.515828 12.821003-13.515828 33.604352 0 46.425356 13.508665 12.81998 35.418674 12.81998 48.927339 0l432.159604-410.009118c0 0 18.33867-16.991999 18.33867-29.981848 0-11.971659-18.33867-29.989011-18.33867-29.989011L316.282968 72.005964C302.77328 59.184961 280.863271 59.184961 267.354606 72.005964z",fill:"#9D9E9D","p-id":"10355"}))))))}));var je=Object(F.b)(L,R)((function(e){var t=Object(D.g)(),a=Object(n.useRef)(),c=Object(n.useRef)(),l=Object(n.useState)(0),i=Object(s.a)(l,2),m=i[0],d=i[1],v=Object(n.useState)(0),h=Object(s.a)(v,2),E=h[0],b=h[1],g=Object(n.useState)(1),w=Object(s.a)(g,2),O=w[0],x=w[1],j=Object(n.useState)(1),_=Object(s.a)(j,2),y=_[0],N=_[1],S=Object(n.useState)([]),k=Object(s.a)(S,2),C=k[0],z=k[1],B=f(function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t){e.next=11;break}if(console.log("\u5230\u5e95\u4e86"),y!==C.length){e.next=5;break}return p.b.warn("\u5230\u5e95\u4e86"),e.abrupt("return");case 5:if(!(y>6&&C.length!==y)){e.next=11;break}return p.b.loading({content:"\u52a0\u8f7d\u4e2d",duration:0}),e.next=9,A(O+1);case 9:(a=e.sent)&&(z([].concat(Object(ae.a)(C),Object(ae.a)(a.list))),x(O+1),N(a.total),p.b.destroy(),p.b.success("\u52a0\u8f7d\u6210\u529f"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),200);return Object(n.useEffect)((function(){d(a.current.clientHeight)}),[C]),Object(n.useEffect)((function(){b(c.current.clientHeight),A().then((function(e){console.log(e),e&&(N(e.total),z(e.list),d(a.current.clientHeight))}))}),[]),r.a.createElement("div",{className:"handle_address animate__fadeIn animate__animated"},r.a.createElement("div",{className:"title animate__fadeIn animate__animated"},"\u6536\u8d27\u5730\u5740"),C?r.a.createElement("div",{className:"list_wrap",ref:c,onScroll:function(e){B(m-E-e.target.scrollTop)}},r.a.createElement("div",{ref:a},C.map((function(a,n){return r.a.createElement("div",{key:a.address_id,className:"item_box ".concat(1!==a.is_default?"default":"other"),onClick:function(){return t.push("/integral/change-address?address_id=".concat(a.address_id))}},r.a.createElement("li",null,n>1?null:r.a.createElement("span",null,1!==a.is_default?"\u9ed8\u8ba4\u6536\u8d27\u5730\u5740":"\u5176\u4ed6\u6536\u8d27\u5730\u5740"),e.useAddress===a.address_id?r.a.createElement("span",{style:{color:"#704916"}},"\u5f53\u524d\u4f7f\u7528\u5730\u5740"):r.a.createElement("span",null),r.a.createElement("div",{className:"desc"},r.a.createElement("div",null,r.a.createElement("span",null,a.name,"  ",a.mobile),r.a.createElement("span",null,a.address)),r.a.createElement("svg",{style:{marginLeft:"0.4rem"},t:"1608621663428",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10354",width:"14",height:"14"},r.a.createElement("path",{d:"M267.354606 72.005964c-13.515828 12.812817-13.515828 33.603329 0 46.417169l414.889265 393.579937-414.889265 393.565611c-13.515828 12.821003-13.515828 33.604352 0 46.425356 13.508665 12.81998 35.418674 12.81998 48.927339 0l432.159604-410.009118c0 0 18.33867-16.991999 18.33867-29.981848 0-11.971659-18.33867-29.989011-18.33867-29.989011L316.282968 72.005964C302.77328 59.184961 280.863271 59.184961 267.354606 72.005964z",fill:"#9D9E9D","p-id":"10355"})))),1!==!a.is_default&&r.a.createElement("i",null))})))):null,r.a.createElement("div",{className:"btn_wrap animate__fadeIn animate__animated"},r.a.createElement("span",{onClick:function(){t.push("/integral/add-address")}},"\u65b0\u589e\u6536\u83b7\u5730\u5740")))}));var _e=Object(F.b)(L,R)((function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useState)(0),l=Object(s.a)(c,2),i=l[0],m=l[1],d=Object(n.useState)(0),v=Object(s.a)(d,2),h=v[0],E=v[1],b=Object(n.useState)(1),g=Object(s.a)(b,2),w=(g[0],g[1],Object(n.useState)(0)),O=Object(s.a)(w,2),x=O[0],j=(O[1],Object(n.useState)([])),_=Object(s.a)(j,2),y=_[0],N=_[1],A=f(function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t){e.next=6;break}if(console.log("\u5230\u5e95\u4e86"),x!==y.length){e.next=5;break}return p.b.warn("\u5230\u5e95\u4e86"),e.abrupt("return");case 5:x>10&&y.length;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),200);function S(){return(S=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.b.loading({content:"\u52a0\u8f7d\u4e2d",duration:0}),e.next=3,V();case 3:(t=e.sent)&&(console.log(t),p.b.destroy(),N(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){m(t.current.clientHeight)}),[y]),Object(n.useEffect)((function(){E(a.current.clientHeight),m(t.current.clientHeight),function(){S.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"handle_booked"},y&&r.a.createElement("div",{className:"list_wrap",ref:a,onScroll:function(e){A(i-h+9-e.target.scrollTop)}},r.a.createElement("div",{ref:t},y&&y.map((function(e,t){return r.a.createElement("div",{className:"order_item",key:e.coin_log_id},r.a.createElement("p",null,r.a.createElement("span",null,e.nickname),r.a.createElement("span",null,e.create_at)),r.a.createElement("p",null,r.a.createElement("span",null,e.coin),r.a.createElement("span",null,e.status_message)))})))))})),ye=a(91),Ne=a.n(ye),Ae=a(324);var Se=Object(F.b)(L,R)((function(e){var t=Object(D.g)(),a=Object(n.useState)(""),c=Object(s.a)(a,2),l=c[0],i=c[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),f=(d[0],d[1]),h=Object(n.useState)(""),E=Object(s.a)(h,2),g=E[0],w=E[1],O=Object(n.useState)(""),x=Object(s.a)(O,2),j=x[0],_=x[1],y=Object(n.useState)(""),N=Object(s.a)(y,2),A=N[0],S=N[1],B=Object(n.useState)(""),I=Object(s.a)(B,2),V=I[0],L=I[1],R=function(){var a=Object(u.a)(o.a.mark((function a(){var n,r,c,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(v(A)){a.next=3;break}return p.b.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"),a.abrupt("return");case 3:return p.b.loading({content:"\u4fdd\u5b58\u4e2d",duration:0}),a.next=6,b(V);case 6:if(!(n=a.sent)){a.next=15;break}return"",r=n.location.lng,c=n.location.lat,a.next=13,k(A,j,V,Number(g),"",r,c,j,V,l);case 13:(s=a.sent)&&(p.b.destroy(),p.b.success("\u4fdd\u5b58\u6210\u529f"),e.setAddress(l),localStorage.setItem("use_address",l),console.log(s),console.log("ok"),t.goBack());case 15:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(a);case 2:(n=e.sent)?(console.log(n),f(n),_(n.name),S(n.mobile),L(n.address),w(n.is_default)):t.goBack();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function M(){return(M=Object(u.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.b.loading({content:"\u5220\u9664\u4e2d...",duration:0}),e.next=3,z(l);case 3:e.sent&&(p.b.destroy(),p.b.success("\u5220\u9664\u6210\u529f"),t.goBack());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){t.location.search&&(i(t.location.search.split("?address_id=")[1]),F(t.location.search.split("?address_id=")[1]))}),[]),r.a.createElement("div",{className:"change_address animate__fadeIn animate__animated"},r.a.createElement("div",{className:"title animate__fadeIn animate__animated"},"\u6536\u8d27\u5730"),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"useAddress",style:{backgroundColor:"#E29836",color:"#fff"},onClick:function(){e.setAddress(l),p.b.success("\u4f7f\u7528\u6210\u529f"),localStorage.setItem("use_address",l),t.goBack()}},r.a.createElement("span",null,"\u4f7f\u7528\u8be5\u5730\u5740")),r.a.createElement("div",{className:"default",onClick:function(){w(1==g?2:1)}},r.a.createElement("div",{className:"img"},1!==g&&r.a.createElement("img",{src:Ne.a,alt:"a"}))," ",r.a.createElement("span",null,"\u8bbe\u4e3a\u9ed8\u8ba4\u5730\u5740")),r.a.createElement(Ae.a,{title:"\u5220\u9664\u5730\u5740?",onConfirm:function(e){return M.apply(this,arguments)},onCancel:Function.prototype,okText:"Yes",cancelText:"No",className:"del"},r.a.createElement("span",null,"\u5220\u9664\u5730\u5740")),",",r.a.createElement("div",{className:"item_box"},r.a.createElement("li",null,r.a.createElement("span",null,"\u8054\u7cfb\u4eba"),r.a.createElement("div",{className:"desc"},r.a.createElement("input",{type:"text",onChange:function(e){_(e.target.value)},maxLength:10,value:j}),r.a.createElement("svg",{style:{marginLeft:"0.4rem"},t:"1608621663428",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10354",width:"14",height:"14"},r.a.createElement("path",{d:"M267.354606 72.005964c-13.515828 12.812817-13.515828 33.603329 0 46.417169l414.889265 393.579937-414.889265 393.565611c-13.515828 12.821003-13.515828 33.604352 0 46.425356 13.508665 12.81998 35.418674 12.81998 48.927339 0l432.159604-410.009118c0 0 18.33867-16.991999 18.33867-29.981848 0-11.971659-18.33867-29.989011-18.33867-29.989011L316.282968 72.005964C302.77328 59.184961 280.863271 59.184961 267.354606 72.005964z",fill:"#9D9E9D","p-id":"10355"}))))),r.a.createElement("div",{className:"item_box"},r.a.createElement("li",null,r.a.createElement("span",null,"\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("div",{className:"desc"},r.a.createElement("input",{type:"text",onChange:function(e){S(e.target.value)},maxLength:11,value:A}),r.a.createElement("svg",{style:{marginLeft:"0.4rem"},t:"1608621663428",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10354",width:"14",height:"14"},r.a.createElement("path",{d:"M267.354606 72.005964c-13.515828 12.812817-13.515828 33.603329 0 46.417169l414.889265 393.579937-414.889265 393.565611c-13.515828 12.821003-13.515828 33.604352 0 46.425356 13.508665 12.81998 35.418674 12.81998 48.927339 0l432.159604-410.009118c0 0 18.33867-16.991999 18.33867-29.981848 0-11.971659-18.33867-29.989011-18.33867-29.989011L316.282968 72.005964C302.77328 59.184961 280.863271 59.184961 267.354606 72.005964z",fill:"#9D9E9D","p-id":"10355"}))))),r.a.createElement("div",{className:"item_box"},r.a.createElement("li",null,r.a.createElement("span",null,"\u6536\u8d27\u5730\u5740"),r.a.createElement("div",{className:"desc"},r.a.createElement("textarea",{maxLength:24,onChange:function(e){L(e.target.value)},value:V,type:"text",placeholder:"\u53cc\u6d41\u533a\u91d1\u8fd0\u8def366\u53f7\u5609\u5e74\u534e\u9752\u5e74\u57ce8-2-1305"}),r.a.createElement("svg",{style:{marginLeft:"0.4rem"},t:"1608621663428",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10354",width:"14",height:"14"},r.a.createElement("path",{d:"M267.354606 72.005964c-13.515828 12.812817-13.515828 33.603329 0 46.417169l414.889265 393.579937-414.889265 393.565611c-13.515828 12.821003-13.515828 33.604352 0 46.425356 13.508665 12.81998 35.418674 12.81998 48.927339 0l432.159604-410.009118c0 0 18.33867-16.991999 18.33867-29.981848 0-11.971659-18.33867-29.989011-18.33867-29.989011L316.282968 72.005964C302.77328 59.184961 280.863271 59.184961 267.354606 72.005964z",fill:"#9D9E9D","p-id":"10355"}))))),r.a.createElement("div",{className:"btn_wrap animate__fadeIn animate__animated"},r.a.createElement("span",{onClick:function(){return t.goBack()}},"\u53d6\u6d88"),r.a.createElement("span",{onClick:function(){R()}},"\u786e\u8ba4"))))}));var ke=Object(F.b)(L,R)((function(e){var t=Object(D.g)(),a=Object(n.useState)(2),c=Object(s.a)(a,2),l=c[0],i=c[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),f=d[0],v=d[1],h=Object(n.useState)(""),E=Object(s.a)(h,2),g=E[0],w=E[1],O=Object(n.useState)(""),x=Object(s.a)(O,2),j=x[0],_=x[1];function y(){return(y=Object(u.a)(o.a.mark((function e(){var a,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.b.loading({content:"\u4fdd\u5b58\u4e2d",duration:0}),e.next=3,b(j);case 3:if(!(a=e.sent)){e.next=12;break}return"",n=a.location.lng,r=a.location.lat,e.next=10,S(g,f,j,Number(l),"",n,r,f,j);case 10:(c=e.sent)&&(p.b.destroy(),p.b.success("\u4fdd\u5b58\u6210\u529f"),console.log(c),console.log("ok"),t.goBack());case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"change_address animate__fadeIn animate__animated"},r.a.createElement("div",{className:"title animate__fadeIn animate__animated"},"\u65b0\u589e\u6536\u8d27\u5730"),r.a.createElement("div",{className:"default",onClick:function(){i(1===l?2:1)}},r.a.createElement("div",{className:"img"},1!==l&&r.a.createElement("img",{src:Ne.a,alt:"a"}))," ",r.a.createElement("span",null,"\u8bbe\u4e3a\u9ed8\u8ba4\u5730\u5740")),r.a.createElement("div",{className:"item_box"},r.a.createElement("li",null,r.a.createElement("span",null,"\u8054\u7cfb\u4eba"),r.a.createElement("div",{className:"desc"},r.a.createElement("input",{type:"text",onChange:function(e){v(e.target.value)},placeholder:"\u8bf7\u8f93\u5165"}),r.a.createElement("svg",{style:{marginLeft:"0.4rem"},t:"1608621663428",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10354",width:"14",height:"14"},r.a.createElement("path",{d:"M267.354606 72.005964c-13.515828 12.812817-13.515828 33.603329 0 46.417169l414.889265 393.579937-414.889265 393.565611c-13.515828 12.821003-13.515828 33.604352 0 46.425356 13.508665 12.81998 35.418674 12.81998 48.927339 0l432.159604-410.009118c0 0 18.33867-16.991999 18.33867-29.981848 0-11.971659-18.33867-29.989011-18.33867-29.989011L316.282968 72.005964C302.77328 59.184961 280.863271 59.184961 267.354606 72.005964z",fill:"#9D9E9D","p-id":"10355"}))))),r.a.createElement("div",{className:"item_box"},r.a.createElement("li",null,r.a.createElement("span",null,"\u8054\u7cfb\u65b9\u5f0f"),r.a.createElement("div",{className:"desc"},r.a.createElement("input",{onChange:function(e){w(e.target.value)},type:"text",placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u65b9\u5f0f"}),r.a.createElement("svg",{style:{marginLeft:"0.4rem"},t:"1608621663428",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10354",width:"14",height:"14"},r.a.createElement("path",{d:"M267.354606 72.005964c-13.515828 12.812817-13.515828 33.603329 0 46.417169l414.889265 393.579937-414.889265 393.565611c-13.515828 12.821003-13.515828 33.604352 0 46.425356 13.508665 12.81998 35.418674 12.81998 48.927339 0l432.159604-410.009118c0 0 18.33867-16.991999 18.33867-29.981848 0-11.971659-18.33867-29.989011-18.33867-29.989011L316.282968 72.005964C302.77328 59.184961 280.863271 59.184961 267.354606 72.005964z",fill:"#9D9E9D","p-id":"10355"}))))),r.a.createElement("div",{className:"item_box"},r.a.createElement("li",null,r.a.createElement("span",null,"\u6536\u8d27\u5730\u5740"),r.a.createElement("div",{className:"desc"},r.a.createElement("textarea",{onChange:function(e){_(e.target.value)},maxLength:24,type:"text",placeholder:"\u8bf7\u8f93\u5165\u5730\u5740"}),r.a.createElement("svg",{style:{marginLeft:"0.4rem"},t:"1608621663428",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10354",width:"14",height:"14"},r.a.createElement("path",{d:"M267.354606 72.005964c-13.515828 12.812817-13.515828 33.603329 0 46.417169l414.889265 393.579937-414.889265 393.565611c-13.515828 12.821003-13.515828 33.604352 0 46.425356 13.508665 12.81998 35.418674 12.81998 48.927339 0l432.159604-410.009118c0 0 18.33867-16.991999 18.33867-29.981848 0-11.971659-18.33867-29.989011-18.33867-29.989011L316.282968 72.005964C302.77328 59.184961 280.863271 59.184961 267.354606 72.005964z",fill:"#9D9E9D","p-id":"10355"}))))),r.a.createElement("div",{className:"btn_wrap animate__fadeIn animate__animated"},r.a.createElement("span",{onClick:function(){return t.goBack()}},"\u53d6\u6d88"),r.a.createElement("span",{onClick:function(){!function(){y.apply(this,arguments)}()}},"\u786e\u8ba4")))})),Ce="/integral",ze={home:{url:Ce+"/home",desc:"\u4e3b\u9875",page:te},table:{url:Ce+"/order",desc:"\u8ba2\u5355",page:ce},center:{url:Ce+"/center",desc:"\u4e2a\u4eba",page:le},shopDetail:{url:Ce+"/shopdetail",page:se,isShow:!0},orderDetail:{url:Ce+"/orderdetail",page:me,isShow:!0},cashier:{url:Ce+"/cashier",page:Oe,isShow:!0},phone:{url:Ce+"/phone",page:xe,isShow:!0},booked:{url:Ce+"/booked",page:_e,isShow:!0},address:{url:Ce+"/address",page:je,isShow:!0},changeaddress:{url:Ce+"/change-address",page:Se,isShow:!0},addaddress:{url:Ce+"/add-address",page:ke,isShow:!0}};a(236);var Be=Object(D.h)(Object(F.b)(L,R)((function(e){var t=e.tabStatus;return Object(n.useEffect)((function(){var t=e.location.pathname.split("/")[1];"home"===t&&e.activeTab(0),"order"===t&&e.activeTab(1),"center"===t&&e.activeTab(2)}),[]),r.a.createElement("div",{className:"tabBox"},r.a.createElement("ul",null,Object.values(ze).map((function(a,n){return!a.isShow&&r.a.createElement(M.b,{onClick:function(){e.activeTab(n)},to:a.url,key:a.desc},r.a.createElement("li",null,r.a.createElement("p",{className:t===n?"iconBox activeIcon":"iconBox"}," ",t===n?a.activeIcon:a.icon),r.a.createElement("p",{style:t===n?{color:"red"}:{color:"rgb(110, 110, 110)"}},a.desc)))}))))})));var Ie=Object(F.b)(L,R)((function(e){var t=Object(D.g)();return Object(n.useEffect)((function(){var a=new URLSearchParams(window.location.search);console.log(localStorage.getItem("s"),a.get("s")),a.get("s")&&localStorage.getItem("s")!==a.get("s")&&e.clearCart(),E("token")?"/"===window.location.pathname&&t.push("/integral/home"):t.replace("/integral/login"),-1!==navigator.userAgent.toLowerCase().indexOf("micromessenger")?e.setBrowser("wx"):-1!==navigator.userAgent.toLowerCase().indexOf("alipayclient")?e.setBrowser("zfb"):e.setBrowser("other"),E("token")&&e.setUserInfo()}),[]),r.a.createElement("div",{className:"layout animate__fadeIn animate__animated"},"/integral/order"!==t.location.pathname&&"/integral/center"!==t.location.pathname?r.a.createElement(U,null):null,Object.values(ze).map((function(e){return r.a.createElement(D.b,{path:e.url,exact:"\u4e3b\u9875"!==e.desc,component:e.page,key:"/integral"+e.url})})),r.a.createElement(Be,null))})),Ve=a(319),Le=a(321),Re=Object(F.b)(L,R)((function(e){var t=Object(D.g)(),a=Object(n.useState)(""),c=Object(s.a)(a,2),l=(c[0],c[1],Object(n.useState)("")),i=Object(s.a)(l,2),m=i[0],d=i[1],f=Object(n.useState)(""),b=Object(s.a)(f,2),g=b[0],w=b[1],O=Object(n.useState)(""),_=Object(s.a)(O,2),y=_[0],N=_[1],A=Object(n.useState)(""),S=Object(s.a)(A,2),k=S[0],C=S[1],z=function(){var a=Object(u.a)(o.a.mark((function a(n){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.phone||p.b.error("\u8bf7\u8f93\u5165\u624b\u673a\u53f7"),n.verify){a.next=4;break}return p.b.error("\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a"),a.abrupt("return");case 4:if(6===n.verify.length){a.next=7;break}return p.b.error("\u9a8c\u8bc1\u7801\u957f\u5ea6\u9519\u8bef"),a.abrupt("return");case 7:if(v(n.phone)){a.next=10;break}return p.b.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"),a.abrupt("return");case 10:return e.setLoading(!0),e.setUserInfo(n),a.next=14,j(n.verify,m);case 14:(r=a.sent)&&(h("token",r.token,20),setTimeout((function(){t.push("/integral/home")}),300)),w(!1),e.setLoading(!1);case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();function B(){var e=30;w(!0),N(e--),function t(){setTimeout((function(){e>=0?(t(),N(e),e--):(w(!1),console.log("\u7ed3\u675f"))}),1e3)}()}var I=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\u83b7\u53d6\u9a8c\u8bc1\u7801"),0!==m.length){e.next=4;break}return p.b.error("\u8bf7\u5148\u8f93\u5165\u624b\u673a\u53f7"),e.abrupt("return");case 4:return B(),e.next=7,x(m);case 7:e.sent||p.b.error("\u767b\u5165\u5931\u8d25");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){E("token")&&t.push("/integral/home")}),[]),r.a.createElement("div",{className:"login-form",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(Ve.a,{name:"basic",initialValues:{remember:!0},onFinish:z,onFinishFailed:function(e){console.log("Failed:",e)}},r.a.createElement(Ve.a.Item,{label:"\u624b\u673a\u53f7",name:"phone",className:"phone"===k&&"active-wrap"},r.a.createElement(Le.a,{bordered:!0,placeholder:"\u8bf7\u8f93\u5165",maxLength:11,onChange:function(e){return d(e.target.value)},onClick:function(){return C("phone")},onBlur:function(){return C("")}})),r.a.createElement(Ve.a.Item,{label:"\u9a8c\u8bc1\u7801",name:"verify",className:"verify"===k&&"active-wrap"},r.a.createElement(Le.a,{placeholder:"\u516d\u4f4d\u9a8c\u8bc1\u7801",maxLength:6,bordered:!0,onClick:function(){return C("verify")},onBlur:function(){return C("")}})),r.a.createElement(Ve.a.Item,{style:{margin:"0"}},r.a.createElement(de.a,{type:"primary",htmlType:"submit",loading:e.loading,className:"sbbtn"},r.a.createElement("span",null,"\u767b\u5165")," ",r.a.createElement("svg",{t:"1608450482186",className:"icon",viewBox:"0 0 1000 1000",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5562",width:"16",height:"16"},r.a.createElement("path",{d:"M623.27 857.645l292.96875-292.96874999c22.880625-22.880625 22.880625-59.97093751 0-82.85250001l-292.96875-292.96875c-22.880625-22.880625-59.97093751-22.880625-82.85250001 1e-8-22.880625 22.880625-22.880625 59.97093751 1e-8 82.85249999l192.9496875 192.9496875-561.6796875 0c-32.37281249 0-58.59375 26.22093751-58.59375 58.59375001s26.22093751 58.59375 58.59374999 58.59374999l561.67968751 0-192.94968751 192.9496875c-11.42625 11.4553125-17.16843749 26.42625-17.16843749 41.42625s5.7140625 30 17.16843751 41.42625c22.880625 22.880625 59.97093751 22.880625 82.85249999 0z","p-id":"5563",fill:"#ffffff"})))),r.a.createElement(de.a,{htmlType:"button",className:"getcodebtn",disabled:g,loading:g,onClick:I},g&&y?y+"s":"\u83b7\u53d6\u9a8c\u8bc1\u7801")))}));a(315);var Fe=Object(F.b)(L,R)((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1];function i(){return(i=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"title"},"\u6b22\u8fce\u4f7f\u7528\u9c7c\u4ed8\u901a"),r.a.createElement("img",{src:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2003719257,1069607366&fm=26&gp=0.jpg"}),r.a.createElement("div",{className:"food_wrap animate__fadeIn animate__animated"},r.a.createElement(Re,{loading:c,setLoading:function(e){setTimeout((function(){l(e)}),400)}})))}));var Me=Object(F.b)(L,R)((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(!0),o=Object(s.a)(i,2),u=o[0],m=o[1];return Object(n.useEffect)((function(){var t=window.location.href,a=new URLSearchParams(window.location.search),n=a.get("code")||a.get("auth_code"),r=a.get("s")||localStorage.getItem("s");/MicroMessenger/.test(window.navigator.userAgent)?(r&&n&&(console.log(r,n),e.setCode(n)),n||(window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat("wxaf9e884cd4ab31b0","&redirect_uri=").concat(t,"&response_type=code&scope=snsapi_userinfo&state=1#wechat_redirect"))):/AlipayClient/.test(window.navigator.userAgent)?(r&&n&&(e.setCode(n),console.log(r,n)),n||(window.location.href="https://openauth.alipay.com/oauth2/publicAppAuthorize.htm?app_id=".concat("2021002101634074","&scope=auth_base&redirect_uri=").concat(encodeURIComponent(t)))):(e.setCode(""),p.b.error("\u8bf7\u4f7f\u7528\u5fae\u4fe1\u6216\u652f\u4ed8\u5b9d\u626b\u7801"))}),[]),Object(n.useEffect)((function(){!function(){if("/integral"!==window.location.pathname)return e.setShop(JSON.parse(localStorage.getItem("shop"))),void l(!0);var t=new URLSearchParams(window.location.search);if(localStorage.getItem("s")||t.get("s")){p.b.loading({content:"\u52a0\u8f7d\u4e2d",duration:0});var a=t.get("s")||localStorage.getItem("s");localStorage.setItem("s",a),Z(a).then((function(t){t?(p.b.destroy(),p.b.success({content:"\u83b7\u53d6\u6210\u529f",duration:1}),localStorage.setItem("shop",JSON.stringify(t)),e.setShop(t),localStorage.setItem("shop_id",t.shop_id),setTimeout((function(){l(!0),m(!1)}),100)):m(!1)}))}else m(!1),p.b.error("url\u4e0d\u6b63\u786e")}()}),[]),r.a.createElement(r.a.Fragment,null,c&&localStorage.getItem("shop")?r.a.createElement(M.a,null,r.a.createElement(D.d,null,r.a.createElement(D.b,{path:"/login",component:Fe}),r.a.createElement(D.b,{path:"/integral",component:Ie}),r.a.createElement(D.b,{path:"/404",exact:!0,component:function(){return r.a.createElement("h2",null,"404")}}),r.a.createElement(D.a,{to:"/404"}))):!u&&r.a.createElement("div",{style:{fontSize:"2rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}},"\u5546\u6237\u4e0d\u5b58\u5728"))})),De=a(72),Ue=a(162),He={tabStatus:1,cart:Te("cart")||{},userStore:Te("info")||{},shop_id:"1",cartSummary:Te("summary")||{num:0,allPrice:0,coin:0,productList:[]},defaultAddress:null,useAddress:localStorage.getItem("use_address")||"",_localtion:null,isBrowser:"",shop:null,code:""};function Te(e){return!!localStorage.getItem(e)&&JSON.parse(localStorage.getItem(e))}function Ye(e,t,a,n,r){var c=JSON.parse(JSON.stringify(e));c.number||(c.number=1);var l=!1,s=[];if(n[t]){var i=Object(ae.a)(n[t].list);s=i}if(s[0]){var o=!1;s.forEach((function(e){e.category_id===c.cate_id&&(o=!0)})),o||s.push({category_id:c.cate_id,product:[]})}else s.push({category_id:c.cate_id,product:[]});if(s.forEach((function(e,t){var n=c;if(c.cate_id===e.category_id)if(e.product[0]){var i=!1;e.product.forEach((function(n,o){n.product_id===c.product_id&&(i=!0,"add"!==a||r?"del"===a&&(s[t].product[o].number-=1,0===s[t].product[o].number&&(s[t].product[o].number=0,s[t].product.splice(o,1),e.product[0]||s.splice(t,1),s[0]||(console.log("\u5220\u9664\u5e97\u94fa\u8d2d\u7269\u8f66\u5bf9\u8c61"),l=!0))):s[t].product[o].number+=1)})),i||s[t].product.push(n)}else s[t].product.push(n)})),n[t])n[t]=Object(H.a)(Object(H.a)({},n[t]),{},{list:s});else{var u={shop_id:t,list:s};n[t]=u}return l&&delete n[t],n}var We=Object(De.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"TAB":return a.tabStatus=t.index,a;case"INFO":return a.userStore=t.info,a;case"SHOPID":return a.shop_id=t.id,a;case"USEADDRESS":return a.useAddress=t.data,a;case"DEFAULT":return a.defaultAddress=t.data,a;case"LOCAL":return a._localtion=t._localtion,a;case"BROWSER":return a.isBrowser=t.text,a;case"SHOP":return a.shop=t.shop,a;case"CODE":return a.code=t.code,a;case"ADDCART":return a.cart=Ye(t.food,t.shop_id,t.current,e.cart),localStorage.setItem("cart",JSON.stringify(a.cart)),a;case"SETNUM":return a.cartSummary=t.allSummary,a;case"CLEAR":return a.cart={},a.cartSummary=He.cartSummary,a;default:return a}}),Object(Ue.composeWithDevTools)());l.a.render(r.a.createElement(F.a,{store:We},r.a.createElement(Me,null)),document.getElementById("root"))},71:function(e,t,a){},73:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAB30lEQVQ4T7XUTYjNYRTH8c+93rNQFozERrPwkhFFkZ3ythopoYQSZSFNajJqpIYaUrOQsrAYlGYijJdYYWHhZS0vWWhYjIXFKHn969Rzb3/XvXeuLk/dzX1+5/uc/znndwrGPgVMxRT8wCd8rRcWAbXObCxOoEVoS8LHeIPPeIiflYBa0MOYji/4iFt4iVasxQzEQ0/Qj7d5cCV0Mk6mDEbwoM6XLMB87McVnClp89BJ6MNl3B+71GXFGlxEBy7FvyXoOHTiOa7+BbAkbcdKHMNoCboe23EQH5Iy7oqpUY28cwSvMRiBMSpdeIezueg5iLrdrUJcgQxPc91fjj04FNCZGMBWvM8BVmMzDlSBdifYCXzP3d/G7oC24Dw2VAT/F+gyrENPlUzjLmr/23xiB0bqZdpIcyo1e8Ms/xoac9pdDzoPS5JbKjOahZ04naxcui83KqwZVhvFuVz0NOzDxmSI68n32/AK1xCQ2FxxwpFDUdfS8EfnV6V5zWc1IYm/IX7jMTGBYtnEhgqLxsMxt7two97qa6RRS7P+4rMQdg1mjg9lkdydZqEdL3qLp1pb6L2ZDXcOZFvwqFmoo5v0tM0tLJRlF9r73MsvlEY+tZYmahxWH051La++ZqB/xP4C2z1xTLLzAlsAAAAASUVORK5CYII="},91:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAaCAYAAACzdqxAAAABVUlEQVRIS+2UTSuEYRSGr/t5hZHv0kix8A/4B36BkoQYWalZTMTKRyasLSRloRkLFvbKwtbWShY2CqnZWFhoxPscYZLEzDuLKYs563OuTvd9nyMqVKoQlyr4S9n/JYWlcbleYvGQUNPkfwtA2RvbETHywaB5hoXd4vyeElz8hJcFti3qfIubE0oCXWCPgmVN+Z1IYDsk7l/cCNDhanyWca45pNW/BJsSQ0DzO0hwg2NRk+FBNHDWpXCkzdQInEvhKhZsGPQBQQFyJ7FGd5jRAK/RwPsuabAOai8M2OeCH+XBruS0oMnw+K/L/VVj26cHuSUzxkBN34bzmD9TjaU0wWWxd/CnebZHlw/cisQoqAV4MLMTV+vnNU6u1I8pmgrL0Olxsy5Qv/d26p79tmZ4KgUtGFu8zXZpoJ42EtxLvGsdqcrKcSRioakK/qdvM4qJVfMqb94bjDRjG9B/H6UAAAAASUVORK5CYII="}},[[165,1,2]]]);
//# sourceMappingURL=main.d838288b.chunk.js.map